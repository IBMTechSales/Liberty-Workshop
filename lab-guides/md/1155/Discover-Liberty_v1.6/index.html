<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../../../img/favicon.ico">
  <title>Discover Liberty - Liberty Workshop</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../../../extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Discover Liberty";
    var mkdocs_page_input_path = "lab-guides\\md\\1155\\Discover-Liberty_v1.6.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../../.." class="icon icon-home"> Liberty Workshop</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../../environments-setup/">Reserve lab environment or workshop</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../../LibertyLabs/">Labs</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../..">Liberty Workshop</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../..">Docs</a> &raquo;</li>
    
      
    
    <li>Discover Liberty</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="discover-liberty">Discover Liberty</h1>
<p>In this lab, you will explore the Liberty server configuration, installing applications onto Liberty, updating the server
configurations, and updating an application.</p>
<p>As you explore Liberty, you will first use the WebSphere Developer Tools
for Eclipse. Then, you will explore Liberty using the command line.
Finally, you will be introduced to mode advanced configurations using
jvm.options, bootstrap.properties, Liberty built-in variables, and
logging and tracing.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="sign-info" src="../images/media/image2.png" /></td>
<td><strong>TIP:</strong> Liberty is pre-installed on the VM environment provided. <strong>{LAB_HOME}</strong> refers to: <strong>/home/ibmdemo/Student/WLP_21.0.0.3</strong></td>
</tr>
</tbody>
</table>
<p><strong>TIP:</strong> To reduce typing or copy &amp; past of commands, you can find the
related code snippets or commands in the VMWare image in the directory:</p>
<p><strong>/home/ibmdemo/Student/lab-files/CodeSnippets/Bootcamp_Lab2_discover_CodeSnippets.txt</strong></p>
<p><img alt="" src="../images/media/image3.png" /></p>
<p><br/></p>
<h2 id="accessing-the-lab-environment">Accessing the lab environment</h2>
<p>If you are doing this lab as part of an instructor led workshop (virtual or face to face), an environment has already been provisioned for you. The instructor will provide the details for accessing the lab environment.</p>
<p>Otherwise, you will need to reserve an environment for the lab. You can obtain one here. Follow the on-screen instructions for the “<strong>Reserve now</strong>” option.</p>
<p><a href="https://techzone.ibm.com/my/reservations/create/60da2c20e2cb7a001f656575">https://techzone.ibm.com/my/reservations/create/60da2c20e2cb7a001f656575</a></p>
<p>The lab environment contains one (1) Linux VM, named <strong>Workstation</strong>.</p>
<p><img alt="" src="../images/media/workstation.png" /></p>
<p>The Ubuntu Linux <strong>Workstation</strong> VM has the following software installed for the lab:</p>
<ul>
<li>Application Project with Liberty</li>
<li>
<p>Maven 3.6.0 </p>
</li>
<li>
<p>Access the lab environment from your web browser. </p>
<p>A Published Service is configured to provide access to the <strong>Workstation</strong> VM through the noVNC interface for the lab environment.</p>
<p>a.  When the environment is provisioned, right-mouse click on the <strong>Published Service</strong> link and open the URL in a new private or incognito browser window, as described below:  </p>
<ul>
<li>If using <strong>Google Chrome</strong> browser, select <strong>"Open link in incognito window"</strong> from the context menu. </li>
</ul>
<p><img alt="" src="../images/media/chrome-incognito.png" /></p>
<ul>
<li>If using <strong>Firefox</strong> browser, select <strong>"Open link in new private window"</strong> from the context menu. </li>
</ul>
<p><img alt="" src="../images/media/firefox-private.png" /></p>
<p>b. Click on the <strong>"vnc.html"</strong> link to open the lab environment through the <strong>noVNC</strong> interface. </p>
<p><img alt="" src="../images/media/vnc-link.png" /></p>
<p>c. Click the <strong>Connect</strong> button </p>
<p><img alt="" src="../images/media/vnc-connect.png" /></p>
<p>d. Enter the password as:  <strong>passw0rd</strong>. Then click the <strong>Send Credentials</strong> button to access the lab environment. </p>
<blockquote>
<p>Note: That is a numeric zero in passw0rd  </p>
</blockquote>
<p><img alt="" src="../images/media/vnc-password.png" /></p>
</li>
<li>
<p>Login with <strong>ibmdemo</strong> ID.</p>
<p>a.  Click on the “<strong>ibmdemo</strong>” icon on the Ubuntu screen.</p>
<p><img alt="" src="../images/media/image7.png" /></p>
<p>b. When prompted for the password for “<strong>ibmdemo</strong>” user, enter
“<strong>passw0rd</strong>” as the password:</p>
<p>Password: <strong>passw0rd</strong> (lowercase with a zero instead of the o)</p>
<p><img alt="" src="../images/media/image8.png" /></p>
<p><br/></p>
</li>
<li>
<p>Once you access the <strong>Student VM</strong> through the published service, you will see the Desktop, which contains all the programs that you will be using (browsers, terminal, etc.)</p>
</li>
</ul>
<p><br/></p>
<h2 id="tips-for-working-the-in-lab-environment">Tips for working the in lab environment</h2>
<ol>
<li>
<p>You can use your Browsers <strong>zoom in</strong> and <strong>zoom out</strong> options to resize the virtual desktop to fit your screen.</p>
<p>The examples below are using Firefox and Chrome browsers. </p>
<ul>
<li>Firefox example: </li>
</ul>
<p><img alt="fit to window" src="../images/media/zoom.png" /></p>
<ul>
<li>Chrome example: </li>
</ul>
<p><img alt="fit to window" src="../images/media/zoom-chrome.png" /></p>
</li>
<li>
<p>You can copy / paste text from the lab guide into the lab environment using the clipboard in the noVNC viewer. </p>
<p>a. Copy the text from the lab guide that you want to paste into the lab environment</p>
<p>b. Click the <strong>Clipboard</strong> icon and <strong>paste</strong> the text into the noVNC clipboard</p>
<p><img alt="fit to window" src="../images/media/paste.png" /></p>
<p>c. Paste the tect into the VM, such as to a terminal window, browser window, etc. </p>
<p>d. Click on the <strong>clipboard</strong> icon agian to close the clipboard</p>
<blockquote>
<p><strong>NOTE:</strong> Sometimes pasting into a Terminal window in the VM does not work consistently. In this case you might try again, or paste the text into a <strong>Text Editor</strong> in the VM, and then paste it into the Terminal window in the VM. </p>
</blockquote>
</li>
<li>
<p>An alternative to using the noVNC Copy / Paste option, you may considr openeing the lab guide in a web browser inside of the VM. Using this method, you can easily copy / paste text from the lab guide wihout having to use the noVNC clipboard. </p>
<p><br></p>
</li>
</ol>
<table>
<tbody>
<tr class="odd">
<td><img src="./images/media/image2.png" style="width:1.0417in;height:0.60417in" alt="sign-info" /></td>
<td><p><strong>Important:</strong></p>
<p><strong>Click CANCEL</strong>…. If, at any time during the lab, you get a pop-up asking to install updated software onto the Ubuntu VM.</p>
<p>The one we experience is an update available for VS Code.</p>
<p><strong>CLICK CANCEL!</strong></p>
<p><img src="./images/media/image11.png" style="width:5.31184in;height:3.52039in" /></p></td>
</tr>
</tbody>
</table>

<h1 id="explore-liberty-via-wdt">Explore Liberty via WDT</h1>
<blockquote>
<p><strong>Note</strong>: proceed directly to section 3 if you only want to use the
command line.</p>
</blockquote>
<h2 id="setup-liberty-for-the-lab">Setup Liberty for the lab</h2>
<ol>
<li>
<p>Copy the Liberty server configuration, used in this lab, to the
    Liberty usr/servers directory.</p>
<p>a.  Open a new Terminal window</p>
<p>b.  Run the script to setup the Liberty server configuration used in
    this lab.</p>
<pre><code>/home/ibmdemo/Student/labs/lab2/lab2-setup.sh
</code></pre>
<p><img alt="" src="../images/media/image12.png" /></p>
</li>
</ol>
<h2 id="ensure-eclipse-is-started-and-you-are-in-the-correct-workspace">Ensure eclipse is started and you are in the correct workspace</h2>
<ol>
<li>
<p>If Eclipse is not already started, start it now</p>
<p>a.  Use the <strong>File Explorer</strong> to navigate to the directory</p>
<pre><code>Home &gt; Student &gt; WLP_21.0.0.3 &gt; wdt &gt; eclipse
</code></pre>
<p>b.  Double-click on the <strong>eclipse</strong> executable to start Eclipse.</p>
<p><img alt="" src="../images/media/image13.png" /></p>
<p>c.  When the Eclipse launcher prompts you to select a workspace, enter the following directory. Then click the <strong>Launch</strong> button.</p>
<pre><code>/home/ibmdemo/Student/labs/lab2/workspace
</code></pre>
<p><img alt="" src="../images/media/image14.png" /></p>
<p><br/></p>
</li>
</ol>
<h2 id="exploring-the-liberty-server">Exploring the Liberty Server</h2>
<ol>
<li>
<p>Start the server in eclipse.</p>
<p>a.  From the <strong>Servers</strong> view, select your <strong>labServer</strong> instance and click the <strong>Start the server</strong> button (<img alt="" src="../images/media/image15.png" />). </p>
<p>Alternatively, you can also right-click the server name and choose the <strong>Start</strong> option from the context menu.</p>
<p>b.  Switch to the <strong>Console</strong> view if necessary. Look at the
    messages to see how fast your server starts!</p>
<p><img alt="" src="../images/media/image16.png" /></p>
</li>
</ol>
<h3 id="explore-using-the-wdt-to-make-changes-to-the-lab-server-configuration">Explore using the WDT to make changes to the lab server configuration</h3>
<!-- end list -->

<ol>
<li>
<p>Open the Lab Server configuration using the WDT server configuration
    editor</p>
<p>a.  In the <strong>Servers</strong> view, double-click on your <strong>labServer</strong> server to open the server <strong>Overview</strong>.</p>
<p><img alt="" src="../images/media/image17.png" /></p>
<p>b.  Expand the <strong>Publishing</strong> section and notice that the server
    is set to automatically detect and publish changes. Keep this
    default setting.</p>
<p><img alt="" src="../images/media/image18.png" /></p>
<p><img alt="" src="../images/media/image19.png" /></p>
</li>
<li>
<p>In this exercise, you will be deploying a simple servlet
    application, so try enabling the servlet feature on this server.</p>
<p>a.  On the <strong>Overview</strong> page, locate the <strong>Liberty Server
     Settings</strong> section</p>
<p>b.  Click the <strong>Open server configuration</strong> link to open the
     <strong>server.xml</strong> editor.</p>
<blockquote>
<p><strong>Note: To better see the content in Eclipse,</strong> you may need to         resize the Eclipse views, or increase the size of the Eclipse         desktop app</p>
</blockquote>
<p><img alt="" src="../images/media/image20.png" /></p>
<p>c.  If the <strong>Source</strong> view of the <strong>server.xml</strong> file is
     displayed, switch to the <strong>Design</strong> view in the server
     configuration editor, by clicking on the <strong>"Design”</strong> tab in the
     editor pane</p>
<p>d.  Start by providing a meaningful description for your server,
     such as “Liberty server for labs”.</p>
<p><img alt="" src="../images/media/image21.png" /></p>
<p>e.  To add a feature, such as servlet-4.0, go back in the
    <strong>Configuration Structure</strong> area, and exand it, if necessary,
    and note the <strong>Feature Manager configuration entry.</strong></p>
<blockquote>
<p>In this lab, the Feature Manager has already been added to the
    configuration</p>
</blockquote>
<p>f.  Review the Feature Manager settings by clicking on the
    “<strong>Feature Manager</strong>” to view the list of features already
    configured.</p>
<blockquote>
<p>Notice that the <strong>jsp-2.3</strong> and the <strong>loalConnector-1.0</strong>
    features have already been added to the server configuration.</p>
</blockquote>
<p>g.  Click the <strong>Add</strong> button to add a new feature “servlet-4.0”</p>
<p><img alt="" src="../images/media/image22.png" /></p>
<p>h.  In the pop-up, type <strong>servlet</strong> to filter to servlet related
    features. Then select <strong>servlet-4.0.</strong> Click <strong>OK</strong></p>
<p><img alt="" src="../images/media/image23.png" /></p>
<p>i.  In the <strong>server.xml</strong> editor, switch to the <strong>Source</strong> tab at
    the bottom to see the XML source for this configuration file.
    You will see that a new <strong>featureManager</strong> element has been
    updated to contain the <strong>servlet-4.0</strong> feature.</p>
<p><img alt="" src="../images/media/image24.png" /></p>
<p>j. Now you have a server that is configured to use the
    <strong>servlet-4.0</strong> feature.</p>
<p>k. Click the <strong>Save</strong> button (<img alt="" src="../images/media/image25.png" />) to
    save your changes (or use CTRL+S)</p>
</li>
</ol>
<table>
<tbody>
<tr class="odd">
<td><img src="./images/media/image2.png" style="width:1.60417in;height:0.60417in" alt="sign-info" /></td>
<td><p><strong>TIP:</strong></p>
<p>The Sample1 application is a Java Enterprise application that includes a simple <strong>Java Servlet class</strong>. For the Liberty Server to run the Sample1 application, the servlet feature must be configured in the server.xml file.</p></td>
</tr>
</tbody>
</table>

<ol>
<li>
<p>Switch to the <strong>Console</strong> view, located at the bottom of the
     workbench and review the latest messages. These messages are
     showing that your Liberty server automatically detected the
     configuration update, processed the feature that you enabled, and
     is now listening for incoming requests.</p>
<p>You will notice that the server configuration was automatically
updated, and the feature update was completed very quickly. In this
example, it was less than one second.</p>
<p><img alt="" src="../images/media/image26.png" /></p>
</li>
<li>
<p><strong>Close</strong> the server.xml in the editor pane.</p>
</li>
<li>
<p><strong>Close</strong> the <strong>Liberty Server Overview</strong> page in Eclipse</p>
<p>Now you are ready to start working with a sample application that
uses the Servlet feature.</p>
<p><br/></p>
</li>
</ol>
<h2 id="deploying-a-sample-application-to-liberty">Deploying a sample application to Liberty</h2>
<h3 id="import-a-sample-application-into-eclipse">Import a sample application into Eclipse</h3>
<ol>
<li>
<p>A simple servlet WAR file has been provided for this exercise;
    import it into your workbench.</p>
<p>a.  In Eclipse, go to <strong>File &gt; Import</strong>. </p>
<p><img alt="" src="../images/media/image27.png" /> </p>
<p>b. Expand the <strong>Web</strong> section, then select <strong>WAR file</strong>. Click <strong>Next</strong>.</p>
<p><img alt="" src="../images/media/image28.png" /></p>
<p>c.  In the <strong>WAR file</strong> field, select <strong>Browse</strong>. Navigate to:</p>
<pre><code>/home/ibmdemo/Student/WLP_21.0.0.3/labs/gettingStarted/1_discover_20190416/Sample1.war
</code></pre>
<p>d.  Click <strong>Open</strong>.</p>
<p>e.  Ensure the <strong>Target runtime</strong> is set to <strong>Liberty</strong> <strong>Runtime</strong></p>
<p>f.  <strong>Unselect “Add project to an EAR”</strong></p>
<p>g.  Click <strong>Finish</strong></p>
<p><img alt="" src="../images/media/image29.png" /></p>
<p>h.  If prompted to open the web perspective, click <strong>Open Perspective</strong>.</p>
<p><img alt="" src="../images/media/image30.png" /></p>
</li>
<li>
<p>Now you have a <strong>Sample1</strong> web project in your workspace. Expand
   it in the <strong>Enterprise Explorer</strong> view to see the different
   components of the project.</p>
<p><img alt="" src="../images/media/image31.png" /></p>
</li>
<li>
<p><strong>Start</strong> the sample application.</p>
<p>a.  In the <strong>Enterprise Explorer</strong> pane, navigate to the
     <strong>SimpleServlet.java</strong> as shown below.</p>
<pre><code>Sample1 &gt; src/main/java &gt; wasdev.sample &gt; SimpleServlet.java
</code></pre>
<p>b.  Right-click on <strong>SimpleServlet.java</strong>.</p>
<p>c.  From the context menu, select <strong>Run As > Run on Server</strong>.</p>
<p><img alt="" src="../images/media/image32.png" /></p>
<p>d.  In the <strong>Run On Server</strong> dialog:</p>
<ul>
<li>
<p>Verify that <strong>Choose an existing server</strong> is chosen.</p>
</li>
<li>
<p>Under <strong>localhost</strong>, select the <strong>Liberty Server</strong> that you defined
earlier. The server should be listed in <strong>Started</strong> state.</p>
</li>
<li>
<p>Click <strong>Finish</strong>.</p>
</li>
</ul>
<p><img alt="" src="../images/media/image33.png" /></p>
<p>e.  After a moment, your application will be installed and
     started. See the <strong>Console</strong> pane for the corresponding
     messages.</p>
<p><img alt="" src="../images/media/image34.png" /></p>
</li>
<li>
<p>In the main panel of the workbench, a browser opened, pointing to</p>
<p><a href="http://localhost:9080/Sample1/SimpleServlet">http://localhost:9080/Sample1/SimpleServlet</a>.</p>
<p>a.  If you receive a 404 the first time, try to refresh the
     browser once the application is completely deployed and
     started.</p>
<p>b.  At this point, you should see the rendered HTML content
     generated by the simple servlet.</p>
<p><img alt="" src="../images/media/image35.png" /></p>
</li>
</ol>
<p>In this section of the lab, you explored how to use the WebSphere
Developer Tools (WDT) to start a Liberty Server, modify the server
configuration, import a simple Java EE WAR module, and deploy the
application to the server from with the development environment.</p>
<p>In the next section, you will explore using WDT to make changes to the
application code, and have it hot deployed to the Liberty server, in
your development environment, to illustrate a simple, yet robust
development experience for Java developers using WDT and Liberty.</p>
<p><br/></p>
<h3 id="modify-the-application-to-see-how-changes-are-automatically-picked-up-in-the-running-server">Modify the application to see how changes are automatically picked up in the running server.</h3>
<ol>
<li>
<p>Open the servlet java source code.</p>
<p>a.  In the <strong>Enterprise Explorer</strong> panel, expand the <strong>Sample1</strong>
     project, then go to:</p>
<pre><code>Sample1 &gt; src/main/java &gt; wasdev.sample
</code></pre>
<p>b.  Double-click the <strong>SimpleServlet</strong>.java source file to open
     the Java editor for the servlet.</p>
<p><img alt="" src="../images/media/image36.png" /></p>
<p>c.  This is the <strong>SimpleServlet.java</strong> source code</p>
<p><img alt="" src="../images/media/image37.png" /></p>
</li>
<li>
<p>Examine the doGet() method in the SimpleServlet.java code</p>
<p>a.  This is a very simple servlet with a <strong>doGet()</strong> method that
     sends out an HTML snippet string as a response. Your
     <strong>doGet()</strong> method will look similar to this (some of the HTML
     tags might be a little different – that is ok).</p>
<p><img alt="" src="../images/media/image38.png" /></p>
</li>
<li>
<p>Modify the application and publish the change.</p>
<p>a.  In the <strong>doGet()</strong> method, Locate the <strong>\&lt;h1></strong> heading
     element of the HTML string, and notice that it contains a
     <strong>font tag</strong> to set the color to “<strong>green</strong>”.</p>
<p>b.  Modify this string by changing the text green to <strong>purple</strong>,
     so your font tag will look read <strong>\&lt;font color=purple></strong>.</p>
<p><code>html
    response.getWriter().print(
        "&lt;html&gt;&lt;h1&gt;&lt;font color=purple&gt;Simple Servlet ran successfully&lt;/font&gt;&lt;/html&gt;"
        + "&lt;html&gt;Powered by WebSphere Application Server Liberty&lt;/html&gt;");</code></p>
<p>c.  Save your changes to the Java source file by either clicking
     the <strong>Save</strong> button (<img alt="" src="../images/media/image25.png" />) or using
     <strong>CTRL+S</strong>.</p>
</li>
<li>
<p>Recall that your server configuration is setup to automatically
     detect and <strong>publish</strong> application changes immediately. By saving
     the changes to your Java source file, you automatically triggered
     an application update on the server.</p>
<p>a.   To see this, go to the <strong>Console</strong> view at the bottom of the
     workbench. The application update started almost immediately
     after you saved the change to the application, and the update
     completed in seconds.</p>
<p><img alt="" src="../images/media/image39.png" /></p>
</li>
<li>
<p>Access the updated application.</p>
<p>a.  Refresh the <strong>browser</strong> in your workbench to see the
     application change. The title should now be rendered in purple
     text.</p>
<p><img alt="" src="../images/media/image40.png" /></p>
</li>
<li>
<p>Optionally continue to play around with application modifications
     and see how quickly those changes are available in the deployed
     application. Maybe put in some additional text to display on the
     page, or add extra HTML tags to see formatting changes (you could
     add a title tag to set the text displayed in the browser title
     bar, for example, <strong>\&lt;head>\&lt;title>Liberty
     Server\&lt;/title>\&lt;/head></strong>).</p>
<p>The key is that this <strong><span class="underline">edit / publish /
debug cycle is very simple and fast!</span></strong></p>
<p><br/></p>
</li>
</ol>
<h3 id="modify-the-server-https-ports-to-see-that-liberty-serer-configuration-changes-are-also-automatially-picked-up-in-the-running-server">Modify the server HTTP(s) ports to see that Liberty Serer configuration changes are also automatially picked up in the running server</h3>
<p>With Liberty, server configuration changes are monitored, and
dynamically updated in the running instance of the server. In
this section, you will make some updates to the Liberty
server.xml file and observe the dynamic server updates
capability in Liberty.</p>
<ol>
<li>
<p>Open the server configuration editor.</p>
<p>a.  In the <strong>Servers</strong> view, double-click on the labServer
    <strong>Server Configuration</strong> server to open the configuration
     server.xml editor.</p>
<p><img alt="" src="../images/media/image41.png" /></p>
<p>b.  Ensure you are in the Design mode by selecting the <strong>Design</strong>
     tab on the Server Configuration editor.</p>
</li>
<li>
<p>Select the <strong>Web Application: Sample1</strong> item in the <strong>Server
     Configuration</strong> and look at its configuration details. From here,
     you can set basic application parameters, including the context
     root for the application, and to automatically start the
     application.</p>
<p><img alt="" src="../images/media/image42.png" /></p>
</li>
<li>
<p>Select the <strong>Application Monitoring</strong> item in the <strong>Server
     Configuration</strong> and look at its configuration details. You can see
     that the monitor polls for changes every <strong>500ms</strong> using an
     <strong>mbean</strong> trigger.</p>
<p><img alt="" src="../images/media/image43.png" /></p>
</li>
<li>
<p>Select the <strong>Feature Manager</strong> item to see the features that are
     configured on your server. You added the <strong>servlet-4.0</strong> feature
     because you knew that you were going to be running a servlet
     application. But the development tools automatically added the
     <strong>localConnector-1.0.</strong> feature to your server to support
     notifications and application updates. </p>
<p>In fact, you would not have
 needed to add the servlet feature to your server at the beginning
 at all. The tools would have automatically enabled that feature,
 based on the content of the application.</p>
<p><img alt="" src="../images/media/image44.png" /></p>
</li>
<li>
<p>Change the HTTP port.</p>
<p>Using the default HTTP port (9080) is an easy way to quickly bring
up an application, but it is common to want to use a different port.
This is an easy thing to change.</p>
<p>a.  In the <strong>Configuration Structure</strong> area, select <strong>Server
     Configuration</strong>, then select <strong>HTTP Endpoint</strong></p>
<p><img alt="" src="../images/media/image45.png" /></p>
<p>b.  In the <strong>HTTP Endpoint Details</strong> area, Change the HTTP Port to
     <strong>9085</strong>.</p>
<p><img alt="" src="../images/media/image46.png" /></p>
<p>c.  <strong>Save</strong> your changes to the server configuration (CTRL+S).</p>
</li>
<li>
<p>You can review your full server configuration in the
     <strong>server.xml</strong> source file. Back in the server configuration
     editor, switch to the <strong>Source</strong> tab at the bottom to view the
     full XML source for your server configuration.</p>
<p><img alt="" src="../images/media/image47.png" /></p>
</li>
<li>
<p>After you saved your configuration changes, the configuration of
    &gt; your running server was automatically updated. The <strong>Console</strong>
    &gt; pane will show that the Sample1 servlet is now available on port
    &gt; 9085.</p>
<p><img alt="" src="../images/media/image48.png" /></p>
</li>
<li>
<p>Now, you can access your sample application using the new port. In
     the browser in your workbench, change the port from <strong>9080</strong> to
     <strong>9085</strong> and refresh the application.</p>
<p><img alt="" src="../images/media/image49.png" /></p>
<p><br/></p>
</li>
</ol>
<h2 id="add-info-logging-output-to-console">Add INFO logging output to console</h2>
<p>WebSphere Traditional and Liberty provide the ability to set the         logging level to any of the supported log levels defined in the         documentation: <a href="https://www.ibm.com/docs/en/was-liberty/base?topic=liberty-logging-trace">https://www.ibm.com/docs/en/was-liberty/base?topic=liberty-logging-trace</a></p>
<p><strong>AUDIT</strong> logging enables logging of “Significant event affecting server state or resources”</p>
<p><strong>INFO</strong> logging enables of “General information outlining overall task progress”</p>
<p>By default, the Liberty Server has the console log level set to AUDIT. </p>
<p>In this section, you will change the level of log messages written to the console from AUDIT to INFO, which will result in additional logging messages.</p>
<p>You will perform this activity in the server.xml file using the UI. It is also possible to set default logging options in the bootstrap.properties file. </p>
<p>If the logging options are set in the bootstrap.properties file, the logging options will take effect very early in server startup, so it may be useful for debugging server initialization problems.</p>
<ol>
<li>
<p>Open the server configuration editor.</p>
<p>a.  In the <strong>Servers</strong> view, double-click on the labServer
     <strong>Server Configuration</strong> server to open the configuration
     server.xml editor.</p>
<p><img alt="" src="../images/media/image41.png" /></p>
<p>b.   Ensure you are in the Design mode by selecting the <strong>Design</strong>
     tab on the Server Configuration editor.</p>
</li>
<li>
<p>Add the <strong>Logging</strong> configuration option to the server</p>
<p>a.  Under the <strong>Configuration Structure</strong> section, Click on
     <strong>Server Configuration.</strong> And, then click the <strong>Add button.</strong></p>
<p><img alt="" src="../images/media/image50.png" /></p>
<p>b.  Type <strong>logging</strong> in the “Context: Server Configuration” field
     to narrow the list of configuration options displayed</p>
<p><img alt="" src="../images/media/image51.png" /></p>
<p>c. On the <strong>Add Element</strong> dialog, select <strong>Logging</strong>, And, then click
 the <strong>OK</strong> button</p>
<p><img alt="" src="../images/media/image52.png" /></p>
<p>d.  The logging page displays the properties for the logging
 configuration, such as the name of the log files, the maximum size
 of log files, and the maximum number of log files to retain.</p>
<p>Additional configuration information is displayed regarding tracing.
Notice that the <strong>Console Log Level</strong> is set to <strong>AUDIT</strong> by
default.</p>
<p><img alt="" src="../images/media/image53.png" /></p>
</li>
<li>
<p>Change the Console log level to <strong>INFO</strong> using the pull-down menu.</p>
<p><img alt="" src="../images/media/image54.png" /></p>
<p>a. Switch to the <strong>Source</strong> view for the server.xml file to see the
 configuration changes added to server.xml.</p>
<p><code>html
&lt;logging consoleLogLevel="INFO"&gt;&lt;/logging&gt;</code></p>
<p>b.  <strong>Save</strong> the configuration file.</p>
<p>The changes you made are dynamic and take effect immediately.</p>
<p><img alt="" src="../images/media/image55.png" /></p>
<p><br/></p>
</li>
</ol>
<h2 id="update-trace-specification">Update trace specification</h2>
<p>By default, the Liberty Server trace specification is set to <strong>*=info=enabled</strong>. This is the same for Traditional WebSphere         Application Server (WAS).</p>
<p>Updating the trace specification for debugging is easily performed using the server configuration editor. You can specify the trace specification in the UI, or copy / paste the trace specification directly into the server.xml file. </p>
<p>In this section, you will specify a trace specification using the configuration editor. And, then, you will look at the result in the server.xml source file</p>
<ol>
<li>
<p>Open the server configuration editor, if it is not already opened.</p>
<p>a.  In the <strong>Servers</strong> view, double-click on the labServer
     <strong>Server Configuration</strong> server to open the configuration
     server.xml editor.</p>
<p><img alt="" src="../images/media/image41.png" /></p>
<p>b.  Ensure you are in the Design mode by selecting the <strong>Design</strong>
     tab on the Server Configuration editor.</p>
</li>
<li>
<p>Update the <strong>Trace Specification</strong> under the <strong>logging</strong>
    configuration.</p>
<p>a.  Click on <strong>Logging</strong> under the Server Configuration section.
     This displays the logging and trace details.</p>
<p>b.   Update the <strong>Trace Specification</strong> field with the following
     trace string:</p>
<pre><code>webcontainer=all=enabled:*=info=enabled
</code></pre>
<p><img alt="" src="../images/media/image56.png" /></p>
<p>c.  Switch to the <strong>Source</strong> tab on the configuration editor and
     view the logging configuration. :</p>
<pre><code>&lt;logging consoleLogLevel="INFO" traceSpecification="webcontainer=all=enabled:*=info=enabled"&gt;&lt;/logging&gt;
</code></pre>
<p>d.  <strong>Save</strong> the configuration changes.</p>
<p>e.   Check the console view to veriify the trace specification was updated</p>
<p><img alt="" src="../images/media/image57.png" /></p>
</li>
<li>
<p>Verify that the <strong>trace.log</strong> file contains trace data.</p>
<p>a. Navigate to the server logs directory.</p>
<pre><code>Home &gt; Student &gt; WLP_21.0.0.3 &gt; wlp &gt; usr &gt; servers &gt; labServer &gt; logs
</code></pre>
<p>The <strong>trace.log</strong> file has been created and contains content.</p>
<p><img alt="" src="../images/media/image58.png" /></p>
<p>b.  Double click on the <strong>trace.log</strong> file to view it in the text
     editor.</p>
</li>
<li>
<p>You can also view the trace file in Eclipse. In the <strong>Enterprise
    Explorer</strong> view, expand the <strong>Liberty</strong> <strong>Runtime</strong> project, and its
    subdirectories, and you will find the <strong>trace.log</strong> file on the logs
    directory.</p>
<p>a.  Refresh the Liberty Runtime project so that the trace.log file
     will be visible in the view since it was created outside of
     the eclipse IDE. <strong>Right mouse click</strong> on the <strong>Liberty
     Runtime</strong> project, and select <strong>Refresh</strong> from the context menu</p>
<p><img alt="" src="../images/media/image59.png" /></p>
<p>b.  Navigate to <strong>Liberty Runtime &gt; servers &gt; labServer &gt; logs</strong></p>
<p>c.  The trace.log file is viewable from inside of the IDE</p>
<p><img alt="" src="../images/media/image60.png" /></p>
</li>
<li>
<p><strong>Very importantly, reset the trace specification back to the
     default value.</strong></p>
<p>a.  Switch to the <strong>Source</strong> tab on the configuration editor and
     update the logging configuration to: </p>
<pre><code>&lt;logging consoleLogLevel="AUDIT" traceSpecification="*=info=enabled "&gt;&lt;/logging&gt;
</code></pre>
<p><img alt="" src="../images/media/image61.png" /></p>
<p>b.  <strong>Save</strong> the configuration.</p>
<p><br/>    </p>
</li>
</ol>
<h2 id="customizing-liberty-jvm-options">Customizing Liberty JVM Options</h2>
<p>The generic JVM arguments are used to configure and adjust how the JVM
executes.</p>
<p>In this section of the lab, you will explore the JVM Options file. A
common JVM option configuration is to set the minimum and maximum size
of the JVM heap, based on the application runtime requirements.</p>
<p>The WebSphere Application Server Liberty is pre-configured with minimal
settings defined. The following steps will direct you how to define
custom generic JVM arguments such as heap settings for a Liberty server.</p>
<ol>
<li>
<p>First, create the jvm.options file, using the WebSPhere Developer
    tools</p>
<p>a.  In the Eclipse <strong>Servers</strong> view, right-click on the Liberty
     Server.</p>
<p>b.  Select from the context menu</p>
<pre><code>New &gt; Server Environment File &gt; jvm.options &gt; in
 ${server.config.dir}
</code></pre>
<p><img alt="" src="../images/media/image62.png" />  </p>
<p>This will create a <strong>jvm.options</strong> file in the server’s        configuration directory with the most commonly-used options         available in comments:  </p>
<p><img alt="" src="../images/media/image63.png" /></p>
</li>
<li>
<p>If necessary, double click to open the file in the eclipse text editor</p>
</li>
<li>
<p>Enter the following two lines in the <strong>jvm.options</strong> file to set the
    minimum and maximum heap size for the labServer server. </p>
<p>The following options will set the min / max JVM heap size to 25 MB and
500 MB respectively.</p>
<pre><code>-Xms25m
-Xmx500m
</code></pre>
</li>
<li>
<p><strong>Save</strong> the file. Ctrl + S</p>
</li>
<li>
<p><strong>Restart</strong> the server to enable changes</p>
<p><img alt="" src="../images/media/image64.png" /></p>
</li>
<li>
<p><strong>STOP</strong> the server</p>
<p><img alt="" src="../images/media/image65.png" /></p>
</li>
<li>
<p><strong>Exit</strong> Eclipse</p>
<p>This concludes the customization portion of the lab. In the next
sections, you will be introduced to the Liberty configuration using
the command line.</p>
<p><img alt="" src="../images/media/do-not-run-steps.png" /></p>
</li>
</ol>
<h1 id="explore-liberty-via-command-line">Explore Liberty via command line</h1>
<p>In the previous section of the lab, you used the WebSphere Developer
Tools in the Eclipse IDE to deploy an application and work with the
Liberty configuration.</p>
<p>Creating servers, starting, and stopping servers, deploying
applications, and overriding the server configuration can also be
accomplished from the command line. In this section of the lab, you will
experience how to work with Liberty from command line.</p>
<h2 id="create-start-and-configure-a-new-liberty-server">Create, start, and configure a new Liberty server</h2>
<ol>
<li>
<p>Navigate to the Liberty directory</p>
<p>a.   Open a Terminal window and change to the Liberty installation
     directory</p>
<pre><code>cd /home/ibmdemo/Student/WLP\_21.0.0.3/wlp
</code></pre>
</li>
<li>
<p>Create a new Liberty server named “myServer”. The “bin” directory
     contains the Liberty commands.</p>
<p>a.  Use the <strong>server</strong> command with the “create” option to create
     a new server named “myServer”. The server is created in a
    matter of seconds.</p>
<pre><code>bin/server create myServer
</code></pre>
</li>
<li>
<p>Start the Liberty server, using the “start” option on the
     <strong>server</strong> command. The server is started in a matter of seconds.</p>
<pre><code>bin/server start myServer
</code></pre>
</li>
<li>
<p>Modify the server configuration to add the <strong>servlet-3.1</strong> feature
     that will be by the sample application you will deploy in a
     subsequent step.</p>
<p>a. Open an editor to edit the <strong>server.xml</strong> file for the server
   named “myServer”.</p>
<pre><code>gedit /home/ibmdemo/Student/WLP_21.0.0.3/wlp/usr/servers/myServer/server.xml
</code></pre>
<p>b  Under the feature manager, replace existing featured with
 servlet-3.1 feature:</p>
<p><code>xml
&lt;featureManager&gt;
   &lt;feature&gt;servlet-3.1&lt;/feature&gt;
&lt;/featureManager&gt;</code></p>
<p><img alt="" src="../images/media/image66.png" /></p>
<p>c.  <strong>Save</strong> the changes</p>
<p>d.  <strong>Close</strong> the editor</p>
</li>
<li>
<p>Look at the tail of
    {LAB_HOME}/wlp/usr/servers/myServer/logs/messages.log</p>
<p>You should see messages about feature updates. The messages.log file
is the main log file for Liberty, and by default, is located in the
<strong>logs</strong> directory under the server configuration</p>
<pre><code>tail /home/ibmdemo/Student/WLP_21.0.0.3/wlp/usr/servers/myServer/logs/messages.log
</code></pre>
<p><strong>For example:</strong></p>
<p>```
[4/16/19 14:29:29:276 CDT] 00000037
com.ibm.ws.kernel.feature.internal.FeatureManager CWWKF0007I: Feature
update started.</p>
<p>[4/16/19 14:29:29:400 CDT] 00000035
com.ibm.ws.config.xml.internal.ConfigRefresher CWWKG0017I: The server
configuration was successfully updated in 0.240 seconds.
```</p>
<p>Now you are ready to start working with a sample application that uses
the Servlet feature.</p>
<p><br/></p>
</li>
</ol>
<h2 id="deploying-a-sample-application-to-liberty_1">Deploying a sample application to Liberty</h2>
<p>In the first part of this lab, you used the WebSphere Developer Tools in
the Eclipse IDE to deploy an application and work with the Liberty
configuration.</p>
<p>In this section of the lab, you will deploy an application to Liberty
using two different techniques.</p>
<p>First, you will simply copy the application WAR module into the Liberty
“<strong>dropins</strong>” directory. The dropins directory is monitored by
Liberty. As deployable units (WAR, EAR, JAR) are added to the directory,
Liberty automatically deploys and starts the application on the Liberty
server.</p>
<p>As the deployable units are removed from the dropins folder, the
applications are stopped and removed from the running Liberty server.</p>
<p>Now, give it a try.</p>
<h3 id="deploy-an-application-to-dropins-directory">Deploy an application to dropins directory</h3>
<h3 id="_1"></h3>
<table>
<tbody>
<tr class="odd">
<td><img src="./images/media/image2.png" style="width:0.90417in;height:0.60417in" alt="sign-info" /></td>
<td><p><strong>Information:</strong></p>
<p>The <strong>dropins</strong> directory can be used for applications that do not require extra configuration, such as security role mapping</p></td>
</tr>
</tbody>
</table>

<ol>
<li>
<p>First, use the “<strong>tail -f”</strong> “command to view the Liberty server’s
     <strong>messages.log</strong> file to see the messages that are generated once
     the application war file is copied to the “dropins” folder for
     your server.</p>
<p>a.  Open a new Terminal window</p>
<p>b.  Use the <strong>tail -f</strong> command to view the messages.log file.</p>
<pre><code>tail -f /home/ibmdemo/Student/WLP_21.0.0.3/wlp/usr/servers/myServer/logs/messages.log
</code></pre>
</li>
<li>
<p>The easiest way to deploy an application to Liberty is to copy it to
    the server’s <strong>dropins</strong> directory.</p>
<p>The <strong>Sample1.war</strong> is provided for you in the lab. It is the same
application that was deployed using the Eclipse IDE in the first
part of the lab.</p>
<p>a.  Return to the Terminal Window that is at the directory:
     ~/Student/WLP_21.0.0.3/wlp</p>
<p>b.  Copy the provided <strong>Sample1.war</strong> application to the dropins
     folder of your “myServer” server.</p>
<pre><code>cp /home/ibmdemo/Student/WLP_21.0.0.3/labs/gettingStarted/1_discover_*/Sample1.war /home/ibmdemo/Student/WLP_21.0.0.3/wlp/usr/servers/myServer/dropins
</code></pre>
</li>
<li>
<p>Check the server’s <strong>messages.log</strong> to ensure that application
     deployment has taken place. You will see messages showing the
     Sample1 application being started.</p>
<p><img alt="" src="../images/media/image67.png" /></p>
</li>
<li>
<p>Check the application is running by opening a browser at:</p>
<p><a href="http://localhost:9080/Sample1/SimpleServlet">http://localhost:9080/Sample1/SimpleServlet</a></p>
<p><img alt="" src="../images/media/image68.png" /></p>
</li>
<li>
<p>Delete the Sample1.war file from the <strong>dropins</strong> directory, then
    check that it’s no longer accessible from the browser.</p>
<pre><code>rm /home/ibmdemo/Student/WLP_21.0.0.3/wlp/usr/servers/myServer/dropins/Sample1.war
</code></pre>
<p><img alt="" src="../images/media/image69.png" /></p>
<p><a href="http://localhost:9080/Sample1/SimpleServlet">http://localhost:9080/Sample1/SimpleServlet</a></p>
<p><img alt="" src="../images/media/image70.png" /></p>
<p><br/></p>
</li>
</ol>
<h3 id="deploy-the-application-by-adding-it-to-the-serverxml-file">Deploy the application by adding it to the server.xml file</h3>
<p>While the <strong>dropins</strong> directory can be used for applications that do not
require extra configuration, deploying the application by adding it to
the server.xml file provides the freedom to configure the Liberty server
based on the application configuration requirements.</p>
<p>In this section, you will deploy the Sample1 application by adding it to
the server.xml fie.</p>
<p>In this case, you must put the application in one of the following
locations:</p>
<ul>
<li>
<p>${server.config.dir}/apps (that is,
    <em>server_directory</em>/user/servers/<em>server_name</em>/apps)</p>
</li>
<li>
<p>${shared.app.dir} (that is,
    <em>liberty_install_location</em>/usr/shared/apps)</p>
<p><br/></p>
</li>
<li>
<p>Copy the Sample1.war file to the ${server.config.dir}/apps
     directory.</p>
<pre><code>cp /home/ibmdemo/Student/WLP_21.0.0.3/labs/gettingStarted/1_discover_*/Sample1.war /home/ibmdemo/Student/WLP_21.0.0.3/wlp/usr/servers/myServer/apps
</code></pre>
</li>
<li>
<p>Add the Sample1.war application configuration to the server.xml
     file.</p>
<p>a. Use <strong>gedit</strong> to edit the <strong>server.xml</strong> and add the Sample1.war
     to the configuration, which points to the “apps” directory, by
    default.</p>
<pre><code>gedit /home/ibmdemo/Student/WLP_21.0.0.3/wlp/usr/servers/myServer/server.xml
</code></pre>
<p>b.  Add the following line to the server,xml file, as illustrated
 below:</p>
<p><code>html
&lt;webApplication id="Sample1" location="Sample1.war" name="Sample1" /&gt;</code></p>
<p><img alt="" src="../images/media/image71.png" /></p>
<p>c.  <strong>Save and CLOSE the server.xml file</strong></p>
</li>
<li>
<p>Check the server’s <strong>messages.log</strong> that the application is
     started.</p>
<p><img alt="" src="../images/media/image72.png" /></p>
</li>
<li>
<p>Check the application is running by opening a browser at:</p>
<p><a href="http://localhost:9080/Sample1/SimpleServlet">http://localhost:9080/Sample1/SimpleServlet</a></p>
<p><img alt="" src="../images/media/image73.png" /></p>
<p><br/></p>
</li>
</ul>
<h2 id="add-info-logging-output-to-console_1">Add INFO logging output to console</h2>
<p>By default, the Liberty Server has the console log level set to         AUDIT. </p>
<p>In this section, you will change the level of log messages written to the console from AUDIT to INFO.</p>
<p>You will perform this activity by modifying <strong>server.xml</strong> file         using an editor. It is also possible to set default logging options in the bootstrap.properties file. If the logging options are set in the bootstrap.properties file, the logging options will take effect very early in server startup, so it may be useful for debugging server initialization problems.</p>
<ol>
<li>
<p>Edit <strong>server.xml</strong> and add the logging configuration:</p>
<p>a.  Open the server.xml with the editor</p>
<pre><code>gedit /home/ibmdemo/Student/WLP_21.0.0.3/wlp/usr/servers/myServer/server.xml
</code></pre>
<p>b  Add the following line to the server.xml file to update the
 logging level from AUDIT to INFO.</p>
<p><code>html
&lt;logging consoleLogLevel="INFO"/&gt;</code></p>
<p><img alt="" src="../images/media/image74.png" /></p>
<p>c.  <strong>Save</strong> the changes, and check messages.log that the
 configuration change was updated.</p>
<p>d.  From the terminal window where “<strong>tail -f</strong>” command is running,
 verify the server configuration was updated.</p>
<p><img alt="" src="../images/media/image75.png" /></p>
<p><br/></p>
</li>
</ol>
<h2 id="update-trace-specification_1">Update trace specification</h2>
<p>By default, the Liberty Server trace specification is set to
*=info=enabled. This is the same for Traditional WebSphere Application Server.</p>
<p>Updating the trace specification for debugging is easily performed by updating server.xml.</p>
<ol>
<li>
<p>Update the logging stanza to include a trace specification for
    tracing the webcontainer.</p>
<p>a. Use gedit to edit <strong>server.xml</strong> and <strong>update</strong> the logging
   stanza to:</p>
<p><code>html
&lt;logging consoleLogLevel="INFO" traceSpecification="webcontainer=all=enabled:*=info=enabled" /&gt;</code></p>
<p>b.  <strong>Save</strong> the server.xml file:</p>
<p><img alt="" src="../images/media/image76.png" /></p>
<p>c.  Verify the messages.lof file logged the updtaed trace specfication</p>
<p><img alt="" src="../images/media/image77.png" /></p>
</li>
<li>
<p>Use <strong>CTRL-C</strong> to <strong>Stop</strong> the “<strong>tail -f</strong>” command that is
     running in the terminal window.</p>
</li>
<li>
<p>Verify that the trace file contains trace data. The trace file is
    located at:</p>
<pre><code>cat /home/ibmdemo/Student/WLP_21.0.0.3/wlp/usr/servers/myServer/logs/trace.log
</code></pre>
</li>
<li>
<p><strong>Very important: avoid excessive tracing by reverting the trace
    specification back to :</strong></p>
<p><code>html
&lt;logging consoleLogLevel="INFO"/&gt;</code></p>
<p><img alt="" src="../images/media/image78.png" /></p>
</li>
<li>
<p><strong>Save</strong> the changes to the server.xml file.</p>
</li>
<li>
<p><strong>Close the editor</strong></p>
<p><br/></p>
</li>
</ol>
<h2 id="customizing-liberty-jvm-options_1">Customizing Liberty JVM Options</h2>
<p>The generic JVM arguments are used to configure and adjust how the JVM
executes.</p>
<p>The WebSphere Application Server Liberty is pre-configured with minimal
settings defined. The following steps will direct you how to define
custom generic JVM arguments such as heap settings for a Liberty server.</p>
<ol>
<li>
<p>Create a <strong>jvm.options</strong> file that affects all servers</p>
<p>a.  Change directory to {LAB_HOME}/wlp/usr/servers/myServer</p>
<pre><code>cd /home/ibmdemo/Student/WLP_21.0.0.3/wlp/usr/servers/myServer
</code></pre>
<p>b.  Create a new file named <strong>jvm.options</strong> in the “myServer”
directory</p>
<pre><code>gedit jvm.options
</code></pre>
<p>c.  Add the following lines to set the minimum and maximum heap size.</p>
<p>The following options will set the min / max JVM heap size to 25
MB and 500 MB respectively.</p>
<pre><code>-Xms25m
-Xmx500m
</code></pre>
<p><img alt="" src="../images/media/image79.png" /></p>
</li>
<li>
<p><strong>Save</strong> and <strong>close</strong> the jvm.options file</p>
</li>
<li>
<p><strong>Restart</strong> the server for the changes to take affect</p>
<pre><code>cd /home/ibmdemo/Student/WLP_21.0.0.3/wlp

bin/server stop myServer

bin/server start myServer
</code></pre>
<p><img alt="" src="../images/media/image80.png" /></p>
</li>
<li>
<p><strong>Stop</strong> the server</p>
<pre><code>cd /home/ibmdemo/Student/WLP_21.0.0.3/wlp

bin/server stop myServer
</code></pre>
</li>
</ol>
<p>This concludes the customization portion of the lab using command line.
In the next sections, you will be introduced to the Liberty
configuration files for customizing the server initialization and
environment settings.</p>
<p><br/></p>
<h1 id="introducing-liberty-environment-variable-configuration">Introducing Liberty Environment Variable Configuration</h1>
<p>You can customize the Liberty environment using certain specific
variables to support the placement of product binaries and shared
resources.</p>
<p>The Liberty environment variables are specified using <strong>server.env</strong>
file.</p>
<p>You can use <strong>server.env</strong> file at the installation and server levels to
specify environment variables such as JAVA_HOME, WLP_USER_DIR and
WLP_OUTPUT_DIR.</p>
<table>
<tbody>
<tr class="odd">
<td><img src="./images/media/image2.png" style="width:0.90417in;height:0.60417in" alt="sign-info" /></td>
<td><p><strong>Important:</strong></p>
<p><strong>NOTE:</strong> You will <strong>NOT</strong> modify the default environment configuration in this lab.</p>
<p>Review the information in this section to become familiar with the environment variables that are available for customizing the Liberty environment.</p></td>
</tr>
</tbody>
</table>

<p>The following Liberty specific variables can be used to customize the
Liberty environment:</p>
<ul>
<li>
<p><strong>${wlp.install.dir}</strong></p>
<p>This configuration variable has an inferred location. The installation
 directory is always set to the parent of the directory containing the
 launch script or the parent of the /lib directory containing the
 target jar files.</p>
<blockquote>
<p><strong>TIP:</strong> For this lab, the <em>${wlp.install.dir}</em> is
““<strong>{LAB_HOME}/wlp</strong>”</p>
</blockquote>
</li>
<li>
<p><strong>WLP_USER_DIR</strong></p>
<p>This environment variable can be used to specify an alternate location
 for the ${wlp.install.dir}/usr. This variable can only be an absolute
 path. If this is specified, the runtime environment looks for shared
 resources and server definition in the specified directory.</p>
<p>The ${server.config.dir} is equivalent to
 ${wlp.user.dir}/servers/serverName and can be set to a different
 location when running a server (to use configuration files from a&gt; location outside wlp.user.dir).</p>
<blockquote>
<p><strong>TIP:</strong> For this lab, the ${server.config.dir} is depending on the
used server either “<em><em>{LAB_HOME}/wlp</em>/usr/servers/labServer<strong><em>” or
“</em><em>{LAB_HOME}/wlp</em>/usr/servers/myServer</strong></em>”.</p>
</blockquote>
</li>
<li>
<p><strong>WLP_OUTPUT_DIR</strong></p>
<p>This environment variable can be used to specify an alternate location
 for server generated output such as logs, the workarea directory and
 generated files. This variable can only be an absolute path.</p>
<p>If this environment variable is specified, ${server.output.dir} is set
 to the equivalent of WLP_OUTPUT_DIR/serverName. If not specified,
 the ${server.output.dir} is the same as ${server.config.dir} .</p>
<blockquote>
<p><strong>TIP:</strong> For this lab, the ${server.output.dir} is
<em><em>{LAB_HOME}/wlp</em>/usr/servers/labServer<strong><em>” or
“</em><em>{LAB_HOME}/wlp</em>/usr/servers/myServer</strong></em>”, which is the same as
${server.config.dir}.</p>
</blockquote>
<p><br/></p>
</li>
</ul>
<h1 id="introducing-liberty-bootstrapproperties">Introducing Liberty bootstrap.properties</h1>
<p>In this section of the lab, you will gain an understanding of how and
when bootstrap properties are required during environment
initialization.</p>
<table>
<tbody>
<tr class="odd">
<td><img src="./images/media/image2.png" style="width:0.60417in;height:0.60417in" alt="sign-info" /></td>
<td><p><strong>Important:</strong></p>
<p><strong>NOTE:</strong> You will <strong>NOT</strong> modify the default environment configuration in this lab.</p>
<p>This information is provided in the lab for your reference. .</p></td>
</tr>
</tbody>
</table>

<p>Bootstrap properties are used to initialize the runtime environment for
a particular server. Generally, they are attributes that affect the
configuration and initialization of the runtime.</p>
<p>Bootstrap properties are set in a text file named
<strong>bootstrap.properties</strong>. This file should be located in the server
directory alongside the configuration root file server.xml.</p>
<p>By default, the server directory is <strong>usr/servers/*server_name</strong>*.</p>
<p>The <strong>bootstrap.properties</strong> file contains two types of properties:</p>
<ul>
<li>
<p>A small, predefined set of initialization properties.</p>
</li>
<li>
<p>Any custom properties you choose to define which you can then use as
    variables in other configuration files (that is, server.xml and
    included files).</p>
</li>
</ul>
<p>You can create the bootstrap.properties through any file creation
mechanism, or by using the same method shown above for creation of the
jvm.options file in eclipse. You can edit the bootstrap.properties file
using a text editor, or using the editor that is part of the Liberty
developer tools.</p>
<p>Changes to the bootstrap.properties file are applied when the server is
restarted.</p>
<p><strong>TIP:</strong></p>
<blockquote>
<p>As an example, the logging service can be controlled through the server
configuration (server.xml) file. Occasionally you need to set logging
properties so they can take effect before the server configuration files
are processed.</p>
<p>In this case you set them in the bootstrap.properties file instead of
the server configuration.</p>
<p>You do not usually need to do this to get logging from your own code,
which is loaded after server configuration processing, but you might
need to do this to analyze problems in early server start or
configuration processing.</p>
</blockquote>
<p><strong>=== END OF LAB ===</strong></p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script>var base_url = '../../../..';</script>
    <script src="../../../../js/theme.js" defer></script>
      <script src="../../../../search/main.js" defer></script>

</body>
</html>
