<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <title>Explore IBM Transformation Advisor data collection, app assessments, and deployment accelerators - Liberty Workshop</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../../extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Explore IBM Transformation Advisor data collection, app assessments, and deployment accelerators";
    var mkdocs_page_input_path = "lab-guides\\md\\lab5\\README.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> Liberty Workshop</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../environments-setup/">Reserve lab environment or workshop</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../LibertyLabs/">Labs</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">Liberty Workshop</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
    
    <li>Explore IBM Transformation Advisor data collection, app assessments, and deployment accelerators</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="explore-ibm-transformation-advisor-data-collection-app-assessments-and-deployment-accelerators">Explore IBM Transformation Advisor data collection, app assessments, and deployment accelerators</h1>
<h3 id="hands-on-scenario-using-tas-websphere-data-collector-java-application-assessment-and-deployment-accelerators-for-modernization-to-liberty-and-containers">Hands-on scenario using TA’s WebSphere Data collector, Java application assessment, and deployment accelerators for modernization to Liberty and containers</h3>
<h2 id="explore-ibm-transformation-advisor">Explore IBM Transformation Advisor</h2>
<p>This lab provides fundamental hands-on experience of the evaluation
process of WebSphere application for their modernization journey to
Liberty and container-based clouds. It shows the value of using
Transformation Advisor (TA) to evaluate on-premises Java applications
and identify a migration candidate for moving to the cloud.</p>
<p>You will also learn how to use the deployment accelerators that TA
generates to help deploy and run Java applications on Liberty and in
containers.</p>
<p>Upon completion of this lab, you will have gained experience using TA to
quickly analyze on-premises Java applications without accessing their
source code, estimate the effort in moving to container-based clouds,
and using TA’s deployment accelerators to accelerate your application
modernization journey to Liberty and containers.</p>
<p><strong>IBM Cloud Transformation Advisor</strong> (Transformation Advisor) is an
application modernization tool that is entitled through IBM WebSphere
Hybrid Edition. Transformation Advisor helps you quickly evaluate
on-premises Java EE applications for deployment to the cloud. The
Transformation Advisor tool provides the following value:</p>
<ul>
<li>
<p>identify the Java EE programming models in the app.</p>
</li>
<li>
<p>determine the complexity of apps by listing a high-level inventory
    of the content and structure of each app.</p>
</li>
<li>
<p>highlight Java EE programming model and WebSphere API differences
    between the WebSphere profile types</p>
</li>
<li>
<p>identify Java EE specification implementation differences that might
    affect the app</p>
</li>
<li>
<p>generate accelerators for deploying the application to Liberty and
    containers in a target environment.</p>
</li>
</ul>
<p>Additionally, the tool provides a recommendation for the right-fit IBM
WebSphere Application Server edition and offers advice, best practices,
and potential solutions to assess the ease of moving apps to Liberty or
newer versions of WebSphere traditional. It accelerates application
migrating to cloud process, minimize errors and risks and reduce time to
market.</p>
<h2 id="1-introduction">1. Introduction</h2>
<p>As shown in the image below, your company has several web applications
deployed to WebSphere Application Server (WAS) environment.</p>
<p><img alt="" src="images/media/image2.png" /></p>
<p>Your company wants to move these applications to the modern WebSphere
Liberty server on a container-based cloud. However, you are not sure how
much effort the migration process might take.</p>
<p>You decide to use the IBM Transformation Advisor to do a quick
evaluation of these applications without their source code to identify a
good candidate application to move to Liberty and container-based cloud.</p>
<p>After determining a candidate application for modernization to WebSphere
Liberty, you use the accelerators generated by TA to deploy and run the
application to WebSphere Liberty on your local developer machine and in
containers to validate the solution.</p>
<h2 id="2-objective">2. Objective</h2>
<p>The objectives of this lab are to:</p>
<ul>
<li>
<p>Learn how to collect Java application and configuration data using
    the Transformation Advisor Data Collector tool.</p>
</li>
<li>
<p>Learn how to use the Transformation Advisor to evaluate the effort
    involved to modernize to Liberty and container-based clouds and
    identify good application candidates for modernization.</p>
</li>
<li>
<p>Learn how to use the accelerators generated by Transformation
    Advisor to deploy a candidate application to WebSphere Liberty and
    containers.</p>
</li>
</ul>
<h2 id="3-prerequisites">3. Prerequisites</h2>
<p>The following prerequisites must be completed prior to beginning this
lab:</p>
<ul>
<li>
<p>Familiarity with basic Linux commands</p>
</li>
<li>
<p>Have internet access</p>
</li>
<li>
<p>Have a SkyTap lab environment ready</p>
</li>
</ul>
<h2 id="4-the-lab-environment">4. The lab environment</h2>
<p>One Linux VM is included in the environment and has been provided for
this lab.</p>
<p><img alt="" src="images/media/image3.png" /></p>
<ul>
<li>
<p>The <strong>Workstation-Liberty-TA-M2m VM</strong> will be referred as the
    “<strong>workstation</strong>” VM throughout the lab.</p>
</li>
<li>
<p>The login credentials for the <strong>workstation VM</strong> are:</p>
<ul>
<li>
<p>User ID: <strong>ibmdemo</strong></p>
</li>
<li>
<p>Password: <strong>passw0rd</strong></p>
</li>
</ul>
</li>
</ul>
<!-- end list -->

<ul>
<li>
<p>Transformation Advisor (TA) has already been installed on the
    Workstation VM. TA local runs in Docker containers.</p>
</li>
<li>
<p>Get started using Transformation Adviser for yourself:
    <a href="http://ibm.biz/cloudta">http://ibm.biz/cloudta</a></p>
</li>
</ul>
<h2 id="5-lab-tasks">5. Lab Tasks</h2>
<p>In this lab, you will use the Transformation Advisor to identify a good
candidate application for moving to WebSphere Liberty and containers.</p>
<p>To identify which Java EE programming models are on the server, you
would typically run the Transformation Advisor <strong>Data Collector tool</strong>
against a WebSphere server or cell.</p>
<p>For this lab, you will simulate the process of running the data
collector which generates a “data collection” which is a zip file
containing the inventory of the application, structure of each
application, the WebSphere server configuration required for the
application, and various analysis reports.</p>
<p>For this lab environment, the data collection zip archive file has
already been generated. You will import that zip file into the
Transformation Advisor UI for application analysis.</p>
<p>Using Transformation Advisor, you will gain insights into potential
migration issues that may need to be remediated if you move the
application to Liberty and containers. Reviewing the analysis reports,
you will determine the complexity of the development effort required and
select a candidate application to migrate to Liberty in a
container-based cloud.</p>
<p>Here are the activities involved in this process:</p>
<ul>
<li>
<p>Simulate running the Transformation Advisor Data Collector tool
    against the WebSphere Application Server to get application data</p>
</li>
<li>
<p>Upload the data collection zip archive file that was generated by
    the data collector, into Transformation Advisor UI for analysis.</p>
</li>
<li>
<p>Review the analysis and reports that Transformation Advisor
    generates to identify the right candidate application for a rapid
    and cost-effective migration to Liberty and container-based cloud.</p>
</li>
</ul>
<h2 id="6-execute-lab-tasks">6. Execute Lab Tasks</h2>
<h3 id="61-log-in-to-the-workstation-vm-and-get-started">6.1 Log in to the workstation VM and Get Started</h3>
<ol>
<li>
<p>If the VM is not already started, start it by clicking the play
    button for the whole group.</p>
<p><img alt="" src="images/media/image4.png" /></p>
</li>
<li>
<p>After the VMs are started, click the <strong>Workstation VM</strong> icon to
    access it.</p>
<p><img alt="" src="images/media/image3.png" /></p>
</li>
<li>
<p>If you see a screen displaying only “<strong>ibmdemo</strong>”. Click on the
    screen to get to the password prompt to login.</p>
<p><img alt="" src="images/media/image5.png" /></p>
</li>
<li>
<p>Login with <strong>ibmdemo</strong> ID.</p>
<ul>
<li>
<p>Click on the <strong>ibmdemo</strong> icon on the screen.</p>
</li>
<li>
<p>When prompted for the password for <strong>ibmdemo</strong>, enter
    "<strong>password</strong>" as the password:</p>
</li>
</ul>
<p><img alt="" src="images/media/image6.png" /></p>
</li>
<li>
<p>Resize the Skytap environment window for a larger viewing area while
    doing the lab. From the Skytap menu bar, click on the "<strong>Fit to
    Size</strong>" icon. This will enlarge the viewing area to fit the size of
    your browser window.</p>
<p><img alt="fit to size icon" src="images/media/image7.png" /></p>
</li>
</ol>
<h3 id="62-the-websphere-applications-to-be-assessed">6.2 The WebSphere applications to be assessed</h3>
<p>The illustration below shows the WebSphere applications that are
deployed to the WebSphere Application Server (WAS) environment. We
already ran the Transformation Advisor Data Collection tool against the
WebSphere server and provided the resulting data collection zip archive
file on the Workstation VM to be used in the lab.</p>
<p>You will simulate the data collection process. However, not actually run
the data collector since this lab environment does not have access to
the WebSphere environment.</p>
<p>As illustrated below, Transformation Advisor will collect the
application data for the following five applications. During the
analysis of these applications, you will gain important insights
regarding these applications, their JEE technologies used, relative
complexity of each application, and detailed analysis of the overall
effort and complexity of moving each application to Liberty and
container-based cloud environments.</p>
<p><img alt="" src="images/media/image2.png" /></p>
<blockquote>
<p>In the Enterprise Applications list above, you can see the
applications that deployed to the WebSphere Application Server
environment. Next, you use Transformation Advisor to analyze these
applications to identify a good candidate to be moved to Liberty.</p>
</blockquote>
<h3 id="63-launch-transformation-advisor-local">6.3 Launch Transformation Advisor (local)</h3>
<p>The Transformation Advisor can evaluate any Java based applications. In
this lab, you are going to use it to evaluate whether the on-premises
WebSphere application, <strong>Mod Resorts</strong>, is suitable to move to Liberty
and what the effort might be to get it there.</p>
<p>The Transformation Advisor is installed locally on the <strong>Workstation</strong>
VM. Launch the Transformation Advisor tool using the steps below.</p>
<ol>
<li>
<p>From <strong>Workstation</strong> VM Desktop Tool Bar, click the Terminal icon to
    open a Terminal window.</p>
<p><img alt="" src="images/media/image8.png" /></p>
</li>
<li>
<p>Clone the GitHub repo that includes artifacts required for this lab</p>
<pre><code>cd /home/ibmdemo

git clone https://github.com/IBMTechSales/student-tech-academy-platform.git
</code></pre>
<p>Once completed, the local lab artifacts repo is cloned at <strong>/home/ibmdemo/student-tech-academy-platform</strong> directory on the  <strong>Workstation</strong> desktop.</p>
</li>
<li>
<p>Launch the <strong>Transformation Advisor</strong> with commands:</p>
<pre><code>cd /home/ibmdemo/TA_LOCAL/transformationAdvisor/transformation-advisor-local-3.2.1

./launchTransformationAdvisor.sh
</code></pre>
<p>Wait for Transformation Advisor to initialize and display the action
menu list.</p>
</li>
<li>
<p>Type <strong>5</strong> and press <strong>Enter</strong> to start the <strong>Transformation
    Advisor</strong>.</p>
<p><img alt="" src="images/media/image9.png" /></p>
</li>
<li>
<p>The <strong>Transformation Advisor</strong> application is started, right-click
    the application URL link and select <strong>Open Link</strong> to launch it in a
    web browser window</p>
<p><img alt="" src="images/media/image10.png" /></p>
<p>This <strong>Transformation Advisor</strong> Home page is displayed in the Web  Browser.</p>
<p><img alt="" src="images/media/image11.png" /></p>
<p>In the next section, you will use the Transformation Advisor UI to  download the <strong>data collector utility</strong> for the environment that the  WebSphere Application Server would be running, such as Windows or  Linux.</p>
</li>
</ol>
<h3 id="64-download-transformation-advisor-data-collector-utility">6.4 Download Transformation Advisor Data Collector utility</h3>
<p>Now the Transformation Advisor is running, you will download its Data
Collector utility that would run on a WebSphere Application Server.</p>
<p>To evaluate on-premises Java applications, you need to run
<strong>Transformation Advisor Data Collector utility</strong> against the
Application server environment. It will extract application information
from the environment. The utility can be downloaded from the
Transformation Advisor UI.</p>
<ol>
<li>
<p>From the Transformation Advisor Home page, create a <strong>new
    workspace</strong></p>
<p>a.  Click the <strong>Create New</strong> button</p>
<p>b.  Enter the workspace name as <strong>Evaluation, then</strong> click the
    <strong>Create</strong> button</p>
<p><img alt="" src="images/media/image12.png" /></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="sign-info" src="images/media/image13.png" /></td>
<td>A workspace is a designated area that will house the migration recommendations provided by <strong>Transformation Advisor</strong> from your application server environment. You can name and organize these however you want, whether it’s by business application, location, or teams</td>
</tr>
</tbody>
</table>
<p>Once the Workspace is created, you will have options to either  <strong>download</strong> the Data Collector utility or <strong>upload</strong> existing data  file.</p>
<p><img alt="" src="images/media/image14.png" /></p>
<p>In this lab, we are going to perform the following steps:</p>
<ul>
<li>
<p>Download the Data Collector utility for the Linux environment</p>
</li>
<li>
<p><strong>Simulate</strong> running the data collector</p>
</li>
<li>
<p>Upload an existing data collection zip file into Transformation
Advisor for analysis</p>
</li>
<li>
<p>Use the accelerators generated by Transformation Advisor to deploy
the Mod Resorts application to Liberty, and to containers.</p>
</li>
</ul>
</li>
<li>
<p>Click the <strong>Download</strong> button to download the data collector for     Linux</p>
<p><img alt="" src="images/media/image15.png" /></p>
</li>
<li>
<p>In the Download page, you can download data collector utility based
    on your source operating system for your WebSphere environment. It
    also shows how to use the command line utility to collect
    application and configuration data from WebSphere, WebLogic, and
    Tomcat servers.</p>
<p>a.  Since the lab VM is a Linux OS, click <strong>Download Linux</strong> to get
    the utility.</p>
<p><img alt="A screenshot of a social media post Description automatically  generated" src="images/media/image16.png" /></p>
<p>b.  In the Chrome browser window, when the download is complete, you
will see the file shown in the bottom banner of the browser window.</p>
<p><img alt="" src="images/media/image17.png" /> </p>
<p>The zipped Data Collector utility file will be saved in  /<strong>home/ibmdemo/Downloads</strong> directory of the <strong>Workstation</strong> VM.</p>
<p>Continue to the next section of the lab to simulate running the data  collector utility.</p>
</li>
</ol>
<h3 id="65-simulate-running-the-transformation-advisor-data-collector-utility">6.5 Simulate running the Transformation Advisor Data Collector utility</h3>
<p>After downloading the zipped Data Collector utility, it needs to be
unpacked and run against a WebSphere Application server (WAS) to collect
all the data of deployed applications and their configuration from the
WAS server.</p>
<p>Now, let’s simulate the steps to run the data collector.</p>
<ol>
<li>
<p>Go back to the terminal window and navigate the
    <strong>/home/ibmdemo/Downloads</strong> directory and view its contents with
    commands:</p>
<pre><code>cd /home/ibmdemo/Downloads/

ls -l | grep transformationadvisor
</code></pre>
<p>You can see the downloaded data collector utility file named  “<strong>transformationadvisor-Linux_Evaluation.tgz</strong>”</p>
<p><img alt="" src="images/media/image18.png" /></p>
</li>
<li>
<p>Extract the data collector utility using the following command:</p>
<pre><code>tar xvfz transformationadvisor-Linux_Evaluation.tgz
</code></pre>
<p>The data collector utility will be extracted to <strong><em>/home/ibmdemo/Downloads</em>/transformationadvisor-3.2.1</strong> directory.</p>
<p><strong>Note:</strong> At this point, the data collector is ready to execute  against a WebSphere environment.</p>
</li>
<li>
<p>Return to the Transformation Advisor UI in the Web browser to view
    the section on “<strong>Run the Tool</strong>”, which shows the command to run on
    the WebSphere environment.</p>
<p>a.  From the <strong>Data Collector</strong> page, scroll down to the “<strong>Run
    Tool</strong>” section.</p>
<p>The data collector command that would be executed is based on the  <strong>domain</strong> and <strong>analysis type</strong> selections you make in this section.</p>
<p><img alt="" src="images/media/image19.png" /></p>
</li>
<li>
<p>Choose the <strong>IBM WebSphere</strong> Domain. Other domains include other
    JAVA EE runtimes.</p>
<p><strong>Note:</strong> The data collector tool command changes based on this selection.</p>
<p><img alt="" src="images/media/image20.png" /></p>
</li>
<li>
<p>Select the Analysis type of “<strong>Apps and Configuration</strong>”</p>
<p>Selecting <strong>Apps &amp; Configuration</strong> ensures that the application data  and server configuration data is collected.</p>
<p>The server configuration data is extremely helpful in Transformation Advisor to generate deployment artifacts in the migration bundle, which we will explore later in the lab.</p>
<p><img alt="" src="images/media/image21.png" /></p>
</li>
<li>
<p>Review the data collector command that is shown based on your
    selections.</p>
<p><img alt="" src="images/media/image22.png" /></p>
<p>If you were going to run the command, there are a few additional things that need to happen.</p>
<ul>
<li>
<p>Replace the \&lt;WEBSPHERE_HOME_DIR> and \&lt;PROFILE_NAME> variables
with the values from the WebSphere environment</p>
</li>
<li>
<p>If the WebSphere environment is not connected to the VM where
Transformation Advisor is running, then the data collector utility
that was downloaded must be copied and unpacked to the WebSphere
environment.</p>
</li>
</ul>
</li>
</ol>
<h3 id="651-for-illustrative-purposes-only-simulation-of-running-the-transformation-advisor-data-collector-utility"><strong>6.5.1 FOR ILLUSTRATIVE PURPOSES ONLY: Simulation of running the Transformation Advisor Data Collector utility</strong></h3>
<table>
<tbody>
<tr class="odd">
<td><img src="./images/media/image23.png" style="width:0.60625in;height:0.60625in" alt="sign-caution" /></td>
<td><p><strong>Important:</strong></p>
<p>This section is for illustrative purposes only.</p>
<p>DO NOT RUN THE COMMANDS shown!</p></td>
</tr>
</tbody>
</table>

<p>If the WebSphere Application Server and Transformation Advisor has
connectivity, the data collector could be run as follows.</p>
<ol>
<li>
<p>Example of the <strong>Data Collector</strong> utility command to start collect
    the deployed applications information on the WebSphere Application
    server.</p>
<pre><code>./bin/transformationadvisor -w /opt/ibm/WebSphere/AppServer -p AppSrv01
</code></pre>
</li>
<li>
<p>Type <strong>1</strong> to accept the license agreement and press <strong>Enter</strong>, as
    illustrated below</p>
<p><img alt="A screenshot of a cell phone Description automatically generated" src="images/media/image24.png" /></p>
<p>The utility will start to collect application data.</p>
<p><img alt="" src="images/media/image25.png" /></p>
<p>This process takes time to complete, depending on how many applications are deployed on the WebSphere Application server.</p>
<p>When the collection utility completes, you will see the following message; </p>
<p>“<strong>Thank you for uploading your data. You can proceed to the application UI for  doing further analysis.”</strong></p>
<p>Your application data is collected, it is saved as a zip file  “<strong>AppSrv01.zip”</strong>, named based on the WebSphere profile that was  analyzed.</p>
<p>In general, if your application server and the <strong>Transformation  Advisor</strong> are in the same network infrastructure, the collected data  will be automatically uploaded to <strong>Transformation Advisor</strong> for you  to view the analysis results.</p>
<p>Otherwise, you must manually upload the data to <strong>Transformation  Advisor</strong> before you can view the results.</p>
</li>
</ol>
<h3 id="66-upload-the-data-collection-into-transformation-advisor">6.6 Upload the data collection into Transformation Advisor</h3>
<p>In this section, you will upload the data collection zip file
“<strong>AppSrv01.zip</strong>” from the WebSphere environment for analysis.</p>
<p>Typically, before you can upload the data collector zip files, you will
need to download the appropriate data collector for your target
environments operation environment, such as Linux, Windows, etc.</p>
<p>Additionally, you would run the data collector in the target environment
to collect the data for your applications. Then, you can import the
collection data into Transformation Advisor for analysis.</p>
<p><strong>Tip:</strong> As noted in the previous section, the data collection steps
have already been done, and the resulting <strong>AppSrv01.zip</strong> file is
provided for you in the lab environment.</p>
<ol>
<li>
<p>Go back to the Transformation Advisor page in the web browser, click
    the “<strong>Workload type</strong>” link to go to the Recommendations page.</p>
<p><img alt="" src="images/media/image26.png" /></p>
</li>
<li>
<p>From the <strong>Evaluation</strong> workspace, upload the “<strong>AppSrv01.zip</strong>”
    data collection file</p>
<p>a.  Click the <strong>Upload</strong> button to upload a data collection file</p>
<p><img alt="" src="images/media/image27.png" /></p>
<p>b.  From the Upload Data page, click the <strong>Drop or add file</strong> link</p>
<p><img alt="" src="images/media/image28.png" /></p>
<p>c.  Navigate to the location of the data collection file and add the
<strong>AppSrv01.zip</strong> file. Then click the <strong>Open</strong> button on the
Download page.</p>
<blockquote>
<p>Home > ibmdemo > openshift-workshop-was > labs > Liberty >
TA-labs > AppSrv01.zip</p>
<p><img alt="" src="images/media/image29.png" /></p>
</blockquote>
<p>d.  The <strong>AppSrv01.zip</strong> data collection file is now ready to be
uploaded. Click the <strong>Upload</strong> button to continue.</p>
<p><img alt="" src="images/media/image30.png" /></p>
<p>Once the data collection has been uploaded to Transformation Advisor, you are redirected back to the TA Recommendations screen.</p>
<p>Notice that the page shows “<strong>All Java applications</strong>” from the  WebSphere Application Server profile named <strong>AppSrv01</strong>.</p>
<p><img alt="" src="images/media/image31.png" /></p>
<p>The following details are included in the workspace summary:</p>
<ul>
<li>
<p><strong>Total Applications</strong>: The total number of applications in the    workspace.</p>
</li>
<li>
<p><strong>Avg. cost per application</strong>: The average number of days of development effort required to migrate an application.</p>
</li>
<li>
<p><strong>Common Code</strong>: The total cost to migrate all the common code in the workspace to the target platform.</p>
</li>
<li>
<p><strong>Unique app code</strong>: The total cost to migrate all the unique app  code (code that is not shared between applications) in the workspace to the target platform.</p>
</li>
<li>
<p><strong>Total cost</strong>: The total cost to migrate all the applications and
common code in the workspace to the target platform.</p>
</li>
</ul>
<p>In the next section, you will use Transformation Advisor to view the application data analysis that was collected.</p>
</li>
</ol>
<h3 id="67-evaluate-on-premises-java-applications">6.7 Evaluate On-Premises Java Applications</h3>
<p>In this section, you are going to use the Transformation Advisor UI to
view the application data analysis results that was collected in the
previous section.</p>
<ol>
<li>
<p>From the “<strong>All Java applications”</strong> page, you can see there was a
    total of 5 applications analyzed from the WAS server.</p>
<p><img alt="" src="images/media/image32.png" /></p>
<p>When data is uploaded, Transformation Advisor automatically detects the <strong>host machine</strong> the data came from, meaning, where the WebSphere
 application server apps were running. TA creates a corresponding <strong>collection</strong> and adds the applications there.</p>
<p>The collection name can be overridden when running the data collector  or edited in the transformation Advisor UI after the data is uploaded.</p>
<p>In this example, the default collection name is used: <strong>admin.ibm.demo</strong>, which is the host machine where the data came  from.</p>
</li>
<li>
<p>Click on the “<strong>Collections</strong>” drop-down icon and view the
    collection name: “<strong>admin.ibm.demo</strong>”</p>
<p><img alt="" src="images/media/image33.png" /></p>
<p>Transformation advisor analyzes all the <strong>application code</strong> and  <strong>common code</strong> that is shared across applications and provides an  estimated total cost for migrating the apps and common code in the  workspace.</p>
<p>Total cost is the number of days of <strong>development cost</strong> to migrate  that code to run on the selected <strong>migration target</strong>. In this  example, <strong>WebSphere Liberty</strong> is the selected migration target.</p>
<p><strong>The Migration targets include:</strong></p>
<ul>
<li>Open Liberty</li>
<li>WebSphere Liberty</li>
<li>WebSphere Traditional</li>
</ul>
<p><img alt="" src="images/media/image34.png" /></p>
<p>You can choose multiple migration targets and Transformation Advisor  will provide the workspace total cost effort for each of the selected targets.</p>
<p>This provides a high-level view of the scope of work to migrate all  the applications in the collection to specific migration targets.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="sign-info" src="images/media/image13.png" /></td>
<td>Depending on the applications, you may find that the effort to migrate to Open Liberty requires more effort that migrating to WebSphere Liberty. This is because Open Liberty does not include all the Java EE API specifications that are included in WebSphere Liberty.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Click on the <strong>Migration targets</strong> drop-down and select all
    <strong>three</strong> migration targets and notice the different development
    costs associated with migration all 5 applications in the workspace
    to the various migration target environments.</p>
<p>Here you can see that moving the applications in the collection to  <strong>WebSphere traditional</strong> requires zero development costs, meaning there is no code changes necessary.</p>
<p>However, moving to WebSphere Liberty may require 2.5 days and Open  Liberty may take 6 days of development time to update the application code to run on those target runtimes.</p>
<p><img alt="" src="images/media/image35.png" /></p>
<p>The “<strong>All Java applications”</strong> page also shows <strong>the application</strong>  <strong>summary</strong> analysis results for all the apps from the AppSrv01  profile for each of the selected migration targets.</p>
<p>For each app / migration target combination, you can see these  results:</p>
<ul>
<li>Java application</li>
<li>Collection / Profile name</li>
<li>Complexity</li>
<li>Issues</li>
<li>Common code files</li>
<li>Application cost (in days)</li>
<li>Migration plan</li>
</ul>
<p><img alt="" src="images/media/image36.png" /></p>
<p>The following details are included in the summary table (this is the per-application view):</p>
<ul>
<li>
<p><strong>Application Name</strong>: The name of the EAR/WAR file found on the     application server.</p>
</li>
<li>
<p><strong>Collection/Profile</strong>: Collection represents the hostname of the  machine where the application resides. The profile represents the     profile name in the application server where the application is     installed.</p>
</li>
<li>
<p><strong>Complexity</strong>: Indicates how complex Transformation Advisor     considers this application to be if you were to migrate it to the     cloud.</p>
</li>
<li>
<p><strong>Issues</strong>: The number and severity of potential issues with the migration of the application.</p>
</li>
<li>
<p><strong>Common code files</strong>: The number of common code files this  aplication uses. A file is considered common if it is from a Shared  Library or is used by at least one other application.</p>
</li>
<li>
<p><strong>Application cost in days</strong>: Provides an estimate in days for the  development effort to perform the migration for just this application. Cost estimates calculated by Transformation Advisor are high-level estimates only and may vary widely based on skills and     other factors not considered by the tool.</p>
</li>
<li>
<p><strong>Migration plan</strong>: accelerator files generated by Transformation  advisor to aide in building and deploying the selected application   to the target runtime.</p>
</li>
</ul>
<blockquote>
<p><strong>Mod Resorts is one of the applications that we want to consider  migration to Liberty.</strong></p>
</blockquote>
<p>In this section you will review the analysis results for the <strong>modresorts-1_0_war.ear</strong> application and determine if it is a good candidate for migration to Open Liberty or WebSphere liberty.</p>
</li>
<li>
<p>First, let’s narrow the focus in Transformation Advisor to view only
    the <strong>modresorts-1_0_war.ear</strong> application.</p>
<p>a.  In the search bar, type <strong>modresorts</strong> which will narrow the    application list to only the Mod Resorts application for all three    migration targets</p>
<p><img alt="" src="images/media/image37.png" /></p>
<p>In this example, if you want to move the <strong>modresorts-1_0_war.ear</strong>  application to Open Liberty, the complexity level is <strong>Simple</strong>, which indicates that the application code does not need to be changed before it can be moved to Open Liberty.</p>
<p>The application has no dependency, does not have any common code or  shared library files. It has two minor (informational level) issues.</p>
<p>The estimated development effort is zero day because no code change is required.</p>
<p><img alt="" src="images/media/image38.png" /></p>
<p>Notice that the modresorts application is also simple to migrate to  the WebSphere Liberty and WebSphere traditional migration targets.</p>
<p><img alt="" src="images/media/image39.png" /></p>
<p>For this lab, you will focus on the modernization of  <strong>moderesorts-1.0_war.ear</strong> to Open Liberty.</p>
<p>Next, you will look at the analysis results for  <strong>moderesorts-1_0_war.ear</strong> application in detail.</p>
</li>
<li>
<p>Click the <strong>modresorts-1_0_war.ear</strong> link targeting <strong>Open
    Liberty</strong> to expand its analysis results.</p>
<p><img alt="" src="images/media/image40.png" /></p>
<p>The first section in the detail analysis summary page is the  <strong>Complexity rules section</strong>. The overall complexity for the  application is <strong>simple</strong>, indicating that the application can be  directly moved to Open Liberty without any code change.</p>
<p><img alt="" src="images/media/image41.png" /></p>
</li>
<li>
<p>Scroll down to <strong>Complexity Rules</strong> section. You can see there is no
    code change required and no development cost, the estimate migration
    over all develop cost is <strong>0 days</strong>.</p>
<p>This estimate is based on data from IBM Services engagements, which  includes migrating the application code, but does not encompass the  full scope of a migration project that would include server  configuration, testing, etc.</p>
<p><img alt="" src="images/media/image42.png" /></p>
</li>
<li>
<p>Expand the <strong>Issues and details</strong> section. You can see the only
    minor potential issue listed is on configuring the application in
    Docker container.</p>
<p><img alt="" src="images/media/image43.png" /></p>
</li>
<li>
<p>Next, scroll down to the bottom of the page and click the
    <strong>Technology Report</strong> link, this opens a new browser window to show
    the application Evaluation Report.</p>
<p><img alt="" src="images/media/image44.png" /></p>
<p>The <strong>Technology report</strong> lists all java technologies the application  used and whether these technologies are supported by a specific  WebSphere platform from Liberty for Java on IBM Cloud to WebSphere  traditional for z/OS.</p>
<p>It is used to determine whether a particular WebSphere product is  suitable for an application.</p>
<p><table>
<tbody>
<tr class="odd">
<td><img src="./images/media/image13.png" style="width:1.73958in;height:0.64583in" alt="sign-info" /></td>
<td><p><strong>TIP:</strong></p>
<p>If the complexity of migrating to the target environment is “<strong>Complex</strong>” , it means that some APIs are not available in the target runtime and application will have to be rewritten to use different APIs.</p></td>
</tr>
</tbody>
</table></p>
<p><img alt="" src="images/media/image45.png" /></p>
<p>As you can see from the report, the Mod Resorts application only uses  <strong>Java Servlet</strong> which is supported by all WebSphere editions.</p>
</li>
<li>
<p>Go back to the Transformation Advisor browser tab and click the
    <strong>Analysis Report</strong> link.</p>
<p><img alt="" src="images/media/image46.png" /></p>
<p>The Detailed Migration Analysis Report opened in a new browser window.</p>
<p><img alt="" src="images/media/image47.png" /></p>
<p>This is the deep-dive report which shows all issue found at the code  level.</p>
<p>a.  Scroll down to <strong>Detailed Results by Rule</strong> section, you can see all the java technology issues identified based on different migration rules.</p>
<p><img alt="" src="images/media/image48.png" /></p>
<p>For the Mod Resorts application, there are two warning rules regarding the application configuration in Docker containers.</p>
<p>b.  Click the <strong>Show results</strong> link next to the warning rules.</p>
<p>You can see the detail analysis of the issue at code level, in a  specific class file and specific line. This helps developers to  pinpoint where the issue is, or potential issue may be.</p>
<p><img alt="" src="images/media/image49.png" /></p>
<p>c.  Click the <strong>Show rule help</strong> link.</p>
<p><img alt="ta warning rules 3" src="images/media/image50.png" /></p>
<p>This expands the Rule Help section which provides recommended  solutions on how to fix the issue.</p>
<p><img alt="ta rule help" src="images/media/image51.png" /></p>
<p>For the Docker container configuration issue, the utility provides  best practice suggestion to externalize the configuration for the  container.</p>
</li>
<li>
<p>Go back to the Transformation Advisor page and click the <strong>Inventory
    Report</strong> link.</p>
<p><img alt="" src="images/media/image52.png" /></p>
<p>The <strong>Inventory Report</strong> shows up. This report helps you examine what is in your application, including the number of modules, their relationships, and the technologies in those modules.</p>
<p>It also gives you a view of all the utility JAR files in the application, and the <strong>Java package names</strong> in the jar files, which will help identify if the classes are the customers application code  or 3<sup>rd</sup> party code. Potential deployment problems and  performance considerations are also included.</p>
<p><img alt="" src="images/media/image53.png" /></p>
<p>a.  Scroll down to view this report which serves as good decision-making tool to info you what is inside your application runtime, and to help you to have a better understanding of the application runtime, the components it has and the relationships among them.</p>
<p><img alt="ta inventory report 2" src="images/media/image54.png" /></p>
</li>
<li>
<p>In the Inventory report, view the package names of the classes in
    the utility Jars</p>
<p>a.  Scroll down to view the <strong>Contained Archives</strong> section and click
    on the “<strong>show details</strong>” link next to <strong>modresorts-1.0.war</strong></p>
<p>b.  Then scroll down to the <strong>Utility JAR files</strong> and click on the
    “<strong>show details</strong>” link next to Utility JAR files</p>
<p>c.  View the <strong>Archive names</strong> of the jar files and the <strong>packages</strong>
    used in the JAR files.</p>
<p>This is a good way to determine if the code in the utility JARS  include customer code or if they are 3<sup>rd</sup> party jars like
 (org.pache*).</p>
<p>Additionally, if the application migration complexity is SIMPLE, you  may want to verify if the utility jars include any company packages  that begin with org or other package names that are IGNORED by default in the Transformation Advisor data collector.</p>
<p>It could be possible that application code was not analyzed due to  package names that are ignored by the data collector</p>
<p><img alt="" src="images/media/image55.png" /></p>
<p>From the analysis reports you reviewed above, you know that the Mod  Resorts application is supported by Open Liberty, and the issue that  the tool identified would not affect the application migration.</p>
<p>You can confidently select the application as a good candidate for  migrating to Open Liberty with minimal effort.</p>
</li>
</ol>
<h3 id="68-overview-of-the-mod-resorts-application">6.8 Overview of the Mod Resorts application</h3>
<p>From the insights gained from Transformation Advisor, you learned that
the Mod Resorts is a simple EE application and is a good candidate for
moving to Open Liberty and container-based clouds.</p>
<p>For illustration purposes, in this short section, a few screen shots are
captured to illustrate the Mod Resorts application.</p>
<p>The Mod Resorts application home page is illustrated here:</p>
<p><img alt="mod resorts app home page" src="images/media/image56.png" /></p>
<p>The user would select the destination of their travel</p>
<p><img alt="mod resorts app where to" src="images/media/image57.png" /></p>
<p>Perhaps the user wants to go to <strong>PARIS, FRANCE. Mod Resorts shows the</strong>
weather of the city.</p>
<p><img alt="mod resorts app paris" src="images/media/image58.png" /></p>
<p>Continue to the next section of the lab where you are briefly introduced
to Transformation Advisor’s migration plan.</p>
<p>The migration plan includes a migration bundle of generated deployment
artifact that accelerate the deployment of the application to Liberty
and container-based cloud deployment.</p>
<h2 id="7-explore-the-migration-bundle-for-the-mod-resorts-application">7. Explore the migration bundle for the Mod Resorts application</h2>
<p>Transformation Advisor display details about the <strong>migration bundle</strong>
that it generated to accelerate the modernization of applications to
Liberty or traditional WebSphere in containers and to OpenShift. The
migration bundle includes diverse artifacts, depending on the needs of
the application to accelerate the build and deployment of an application
Docker image into OpenShift platform.</p>
<p>The user can choose to create a migration bundle for either:</p>
<ul>
<li>
<p><strong>binary</strong> project of an application (uploading a WAR/EAR file and
    its dependent libraries)</p>
</li>
<li>
<p><strong>source code</strong> project of an application, so that the application
    source files can be modernized and maintained</p>
</li>
</ul>
<p>Now, let’s quickly explore the <strong>Migration Plan</strong> for the Mod Resorts
application to see the artifacts that Transformation Advisor creates to
expedite the app deployment to OpenShift Platform.</p>
<ol>
<li>
<p>Return to the “<strong>All Java applications</strong>” page in Transformation
    Advisor which displays the Java application summary list</p>
<p><img alt="" src="images/media/image59.png" /></p>
</li>
<li>
<p>Ensure only the <strong>Open Liberty</strong> migration target is selected</p>
<p><img alt="" src="images/media/image60.png" /></p>
</li>
<li>
<p>Click on the <strong>Migration plan</strong> link located next to the Mod Resorts
    application analysis for Open Liberty, which will display
    <strong>migration plan</strong> for modresorts for the Open Liberty target</p>
<p><img alt="" src="images/media/image61.png" /></p>
</li>
<li>
<p>Select the <strong>Binary</strong> option in the migration plan.</p>
<p><img alt="" src="images/media/image62.png" /></p>
</li>
<li>
<p>Using the <strong>Binary</strong> option requires that you upload the Mod Resorts
    application binary (WAR or EAR), which will be included in the
    migration bundle along with the deployment artifacts that
    Transformation Advisor generated.</p>
<p>a.  Select <strong>Manual upload</strong> option under the Application dependencies section. Here you will manually upload the Mod Resorts WAR file to the migration bundle.</p>
<p>b.  Click the “<strong>Drag or add file”</strong> link to add the md resorts WAR file to the migration bundle</p>
<p>c.  Navigate to: </p>
<blockquote>
<p>Home > ibmdemo > openshift-workshop-was > labs >
Liberty > TA-labs > modresorts-1.0.war</p>
</blockquote>
<p><img alt="" src="images/media/image63.png" /></p>
<p><img alt="" src="images/media/image64.png" /></p>
</li>
<li>
<p>Scroll down to the <strong>Migration Files</strong> section of the migration
    plan. Notice the files that were generated by Transformation Advisor
    to accelerate build and deployment of the application to Liberty,
    containers, and OpenShift.</p>
<p>To accelerate the application modernization, the artifacts produced by Transformation Advisor include:</p>
<ul>
<li>
<p><strong>server.xml</strong>: the configuration for the Liberty server</p>
</li>
<li>
<p><strong>pom.xml</strong>: Build the application using Maven</p>
</li>
<li>
<p><strong>Application CR</strong>: Custom Resource for the application to be
deployed to OpenShift via the Open Liberty Operator</p>
</li>
<li>
<p><strong>Dockerfile</strong>: Create the Docker image for the application</p>
</li>
</ul>
<p>The user will be able to choose to <strong>download</strong> the artifacts as a migration bundle or <strong>send</strong> the bundle contents into a <strong>Git repository</strong>.</p>
</li>
<li>
<p>Click the <strong>Download bundle</strong> link to download the bundle of
    artifacts to the local filesystem on the Workstation VM.</p>
<p>The <strong>modresorts10war_migrationBundle.zip</strong> file will be downloaded  to the <strong>/home/ibmdemo/Downloads</strong> directory</p>
<p><img alt="" src="images/media/image65.png" /></p>
</li>
<li>
<p>Unzip the migration bundle artifacts to a new folder on the
    Workstation VM</p>
<p>a.  From a terminal window, run the following commands to unzip the migration bundle to a new directory named "<strong>modresorts-bundle</strong>":</p>
<pre><code>mkdir /home/ibmdemo/modresorts-bundle

cd /home/ibmdemo/modresorts-bundle

cp ~/Downloads/modresorts10war_migrationBundle.zip ~/modresorts-bundle

unzip ~/modresorts-bundle/modresorts10war_migrationBundle.zip

ls
</code></pre>
<p><img alt="" src="images/media/image66.png" /></p>
</li>
<li>
<p>View the <strong>server.xml</strong> file. DO NOT CHANGE THE FILE CONTENTS.</p>
<p>The server.xml file in the migration bundle is the Liberty server  configuration file generated by Transformation Advisor, configured for the modresorts application.</p>
<pre><code>gedit ~/modresorts-bundle/src/main/liberty/config/server.xml
</code></pre>
<p><img alt="" src="images/media/image67.png" /></p>
<ul>
<li>
<p>The Liberty features list include features that the application requires.</p>
</li>
<li>
<p><strong>mpMetrics</strong> feature is included, which provides a /metrics endpoint from which you can access all metrics that are emitted by the Open Liberty server and deployed applications.</p>
</li>
<li>
<p>Variables are used so that the values that are likely to be     different between environments can easily be overridden by external    configurations like environment variables or configMaps and Secrets    in Kubernetes.</p>
</li>
</ul>
</li>
<li>
<p><strong>Close</strong> the editor when you finish reviewing the file. <strong>DO NOT
    SAVE any changes</strong> to the contents.</p>
</li>
<li>
<p>View the <strong>Dockerfile</strong> file. Do not change the file contents.</p>
<p>The Dockerfile file in the migration bundle is used to build the container image for running the modresorts application on a Liberty runtime in a containerized environment such ads Docker, Kubernetes, or Red Hat OpenShift. The Dockerfile was generated by Transformation Advisor, configured for the building the modresorts application.</p>
<pre><code>gedit ~/modresorts-bundle/Dockerfile
</code></pre>
<ul>
<li>
<p>The Dockerfile is a two-stage Dockerfile.</p>
</li>
<li>
<p>The first phase is the “<strong>build-stage</strong>” that creates a docker
    image for the modresorts application.</p>
</li>
<li>
<p>The second stage uses the <strong>Open Liberty kernel</strong> container
    image and the build artifacts produced from the “build-stage” to
    build the modresorts container image with the modresorts
    application and configuration files for deploying to a container
    environment.</p>
</li>
</ul>
<p><img alt="" src="images/media/image68.png" /></p>
<p><img alt="" src="images/media/image69.png" /></p>
</li>
<li>
<p><strong>Close</strong> the editor when you finish reviewing the file. <strong>DO NOT
    SAVE</strong> any changes to the contents.</p>
</li>
</ol>
<h2 id="8-use-transformation-advisor-deployment-accelerators-to-deploy-and-run-the-mod-resorts-application-on-open-liberty">8. Use Transformation Advisor deployment accelerators to deploy and run the Mod Resorts application on Open Liberty</h2>
<p>In this section, you will install Open Liberty, create a new Liberty
server, and leverage the artifacts generated by Transformation Advisor
to configure and run the Mod Resorts application on your new Open
Liberty server.</p>
<blockquote>
<p><strong>Tip:</strong> Open Liberty is installed from a zip archive file.</p>
</blockquote>
<p>For the lab, the Open Liberty zip archive has already been downloaded to
the lab environment.</p>
<p>To get started, you will create a new directory where you would like to
install Open Liberty. Then unzip the archive. That’s it, Open Liberty is
installed.</p>
<ol>
<li>
<p>Install Open Liberty on the VM</p>
<p>a.   From a Terminal window, run the following commands to perform an     archive installation of Open Liberty</p>
<pre><code>mkdir ~/Liberty

cd ~/Liberty

unzip ~/Student/labs/TA-labs/openliberty-javaee8-21.0.0.12.zip -d ~/Liberty
</code></pre>
<p>b.  Open Liberty is installed to the <strong>\~/Liberty/wlp</strong> directory.    Change to Open Liberty “<strong>bin</strong>” directory, which is where the    Open Liberty binaries are located.</p>
<pre><code>cd wlp/bin
</code></pre>
</li>
<li>
<p>Use the <strong>server</strong> command to create a new Open Liberty server named
    <strong>modresorts_server</strong></p>
<pre><code>./server create modresorts_server
</code></pre>
<p><img alt="" src="images/media/image70.png" /></p>
</li>
<li>
<p>Use the <strong>server</strong> command to start the Open Liberty server named
    <strong>modresorts_server</strong></p>
<pre><code>./server start modresorts_server
</code></pre>
<p><img alt="" src="images/media/image71.png" /></p>
</li>
<li>
<p>Open a <strong>new Terminal window</strong> and view the Open Liberty server log
    file named “messages.log”</p>
<pre><code> tail -f ~/Liberty/wlp/usr/servers/modresorts_server/logs/messages.log
</code></pre>
<p>a.  Look for the message that the modresorts server started     successfully</p>
<p><img alt="" src="images/media/image72.png" /></p>
<p>At this point you have an Open Liberty Server running with a defaultserver configuration. However, there are no applications installed(deployed).</p>
<p>Next, you will copy the Open Liberty server configuration file that TA generated for the Mod Resorts application. Then you will copy the Mod Resorts binary (WAR) to the Open Liberty server, in which case the application will be deployed and started.</p>
</li>
<li>
<p>Copy the <strong>server.xml</strong> file that Transformation Advisor, which
    includes the Open Liberty server configuration for the modresorts
    application</p>
<p>a.   Return to the Terminal window where you started the Open Liberty Server.</p>
<p>b.   Run the following command to copy the <strong>server.xml</strong> file to the  <strong>modresorts_server</strong> configuration directory.</p>
<pre><code>cp ~/modresorts-bundle/src/main/liberty/config/server.xml ~/Liberty/wlp/usr/servers/modresorts_server
</code></pre>
<p>c.  In the Terminal window running the “<strong>tail</strong>” command on the Open Liberty log file, notice that the server is being updated to reflect the updates in the new server.xml file that we copied into the Liberty runtime configuration.</p>
<blockquote>
<p><strong>Note:</strong> You will see messages that specific Liberty features being removed, and others being added, based on the new server.xml file that is loaded.</p>
</blockquote>
</li>
<li>
<p>Install the modresorts application to the Open Liberty server, using
    the WAR file that is included in the Transformation Advisor
    migration bundle.</p>
<pre><code>cp ~/modresorts-bundle/target/modresorts-1.0.war ~/Liberty/wlp/usr/servers/modresorts_server/apps
</code></pre>
<p>The command above copied the modresorts application WAR file to the  Open Liberty “<strong>apps</strong>” folder, which where the server.xml file is  configured to run the application.</p>
<p><img alt="" src="images/media/image73.png" /></p>
</li>
<li>
<p>In the Terminal window running the “<strong>tail</strong>” command on the Open  Liberty log file, notice that the server is being updated to reflect the modresorts application being started.</p>
</li>
<li>
<p>Run the modresorts application from the Chrome browser on the VM.
    The context root for the application is “/resorts” and is defined in
    the Open Liberty server.xml file.</p>
<pre><code>http://localhost:9080/resorts
</code></pre>
<p><img alt="" src="images/media/image74.png" /></p>
<p>a.  You may click the drop-down menu for “<strong>WHERE TO</strong>?” and select a destination</p>
<p><table>
<tbody>
<tr class="odd">
<td><img src="./images/media/image23.png" style="width:0.80625in;height:0.60625in" alt="sign-caution" /></td>
<td><p><strong>Tip!</strong></p>
<p>If the application does not respond when clicking on the “WHERE TO?” menu, increase the window size of the Chrome browser.</p>
<p>This appears to be a glitch with the application or Chrome browser</p></td>
</tr>
</tbody>
</table></p>
<p><img alt="" src="images/media/image75.png" /></p>
</li>
<li>
<p>Stop the Open Liberty server</p>
<p>a.  Return to the Terminal window where you started the Open Liberty  Server</p>
<p>b.  Run the following command to <strong>stop</strong> the server named <strong>modresorts_server</strong></p>
<pre><code>./server stop modresorts_server
</code></pre>
<p><img alt="" src="images/media/image76.png" /></p>
</li>
<li>
<p>Use <strong>CTL-C</strong> to Stop the “<strong>tail</strong>” command in the 2<sup>nd</sup>
    Terminal window</p>
</li>
</ol>
<h2 id="9-use-transformation-advisor-accelerators-to-run-the-mod-resorts-application-on-open-liberty-in-containers">9. Use Transformation Advisor accelerators to run the Mod Resorts application on Open Liberty in containers</h2>
<p>In this section, you will use the Dockerfile to build a docker image and run the modresorts application in a local Docker container.</p>
<p>The Dockerfile is a two-stage Dockerfile:
  - The first phase is the “<strong>build-stage</strong>” that creates a docker
     image for the modresorts application.
  -  The second stage uses the <strong>Open Liberty kernel</strong> container image
     and the build artifacts produced from the “build-stage” to build
     the modresorts container image with the modresorts application and
     configuration files for deploying to a container environment.</p>
<pre><code>  - **RUN features.sh** downloads the Open Liberty features that are defined
in the server.xml file
  - **RUN configure.sh** installs the Open Liberty features into the Docker image.
</code></pre>
<ol>
<li>
<p>Build the Docker image that includes the modresorts application on
    Open Liberty</p>
<p>a.  From a Terminal window, change to the directory where the     Transformation Advisor migration bundle is located. </p>
<p>b.  Run the Docker build command to build the image</p>
<ul>
<li>
<p>The name of the docker image will be <strong>modresorts:1.0,</strong> as
specified by the -t (tag) parameter.</p>
</li>
<li>
<p>The Dockerfile used is in the current directory, as specified by the
training <strong>dot</strong> on the command</p>
<p>cd ~/modresorts-bundle</p>
<p>docker build --no-cache -t modresorts:1.0 .</p>
</li>
</ul>
<p>When complete, you will see that the Docker image was created and tagged as “<strong>modresorts:1.0</strong>”</p>
<p><img alt="" src="images/media/image77.png" /></p>
<p>c.  List the Docker image and its tag. The name of the image is
“<strong>modresorts</strong>” and is tagged as “<strong>1.0</strong>”</p>
<pre><code>docker images | grep modresorts
</code></pre>
<p><img alt="" src="images/media/image78.png" /></p>
</li>
<li>
<p>Run the Docker image</p>
<ul>
<li>
<p><strong>-d</strong> runs the docker command in detached mode</p>
</li>
<li>
<p><strong>-p</strong> maps the internal pot 9080 to an external port 9081</p>
</li>
<li>
<p><strong>--name</strong> specifies the name for the docker container that gets
spun up</p>
</li>
<li>
<p><strong>Modresorts:1.0</strong> is the name of the <strong>docker image</strong> to use to
spin up the new container</p>
<p>docker run -d -p 9081:9080 --name modresorts modresorts:1.0</p>
</li>
</ul>
</li>
<li>
<p>Verify the docker container is running</p>
<pre><code>docker ps | grep modresorts
</code></pre>
<p>The “<strong>docker ps</strong>” command lists docker containers that are “running”.</p>
<p>Running “<strong>docker ps -a</strong>” lists all docker containers, including  containers that are stopped.</p>
<p><img alt="" src="images/media/image79.png" /></p>
</li>
<li>
<p>View the Open Liberty log in the “<strong>modresorts</strong>” container to
    verify the modresorts application was installed and is running</p>
<pre><code>docker logs modresorts
</code></pre>
<p><img alt="" src="images/media/image80.png" /></p>
</li>
<li>
<p>Run the modresorts application from the Web Browser.</p>
</li>
<li>
<p>The application is exposed on port: <strong>9081</strong></p>
</li>
<li>
<p>The application context root is: <strong>/resorts</strong></p>
<pre><code>http://localhost:9081/resorts
</code></pre>
<p><img alt="" src="images/media/image81.png" /></p>
<p>a.  You may click the drop-down menu for “<strong>WHERE TO</strong>?” and select a   destination</p>
<p><table> 
<tbody>
<tr class="odd">
<td><img src="./images/media/image23.png" style="width:0.90625in;height:0.60625in" alt="sign-caution" /></td>
<td><p><strong>Tip!</strong></p>
<p>If the application does not respond when clicking on the “WHERE TO?” menu, increase the window size of the Chrome browser.</p>
<p>This appears to be a glitch with the application in Chrome browser</p></td>
</tr>
</tbody>
</table></p>
<p><img alt="" src="images/media/image75.png" /></p>
</li>
<li>
<p><strong>Stop</strong> and <strong>remove</strong> the docker container. Then check that the
    container has been removed, by using the “<strong>docker ps -a”</strong> command</p>
<pre><code>docker stop modresorts

docker rm modresorts

docker ps -a | grep modresorts
</code></pre>
</li>
<li>
<p><strong>Remove</strong> the modresorts docker image. Then use the “<strong>docker
    images</strong>” command to verify the image has been removed</p>
<pre><code>docker rmi modresorts:1.0

docker images | grep modresorts
</code></pre>
</li>
</ol>
<h2 id="summary">Summary</h2>
<p>In this lab, you learned how to evaluate the existing Java application
using IBM Cloud Transformation Advisor.</p>
<p>You learned how to use Transformation Advisors generated deployment
accelerators from the migration bundle to build and run an application
in Open Liberty in stand-alone mode on a VM and in containers.</p>
<p>As a part of IBM Application Modernization solutions, the Transformation
Advisor tool provides a recommendation for the right-fit IBM WebSphere
Application Server edition and offers advice, best practices, and
potential solutions to assess the ease of moving apps to Liberty or to
WAS container, or to newer versions of WebSphere traditional.</p>
<p>Transformation Advisor accelerates application migrating to Liberty and
containers and helps minimize errors and risks and reduce time to
market.</p>
<p><br/></p>
<p><strong>Congratulations!</strong></p>
<p><strong>You have successfully completed the lab “Exploring IBM Transformation
Advisor data collection, app assessments, and deployment accelerators”</strong></p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>

</body>
</html>

<!--
MkDocs version : 1.0.4
Build Date UTC : 2022-09-07 17:51:35
-->
